<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>LeDao的博客</title><meta name="keywords" content="LeDao的博客,Java,idea使用,个人项目,Tomcat,MySQL,GitHub,前端,MyBatis,MyBatis-Plus,CentOS7,Redis,Vue.js"><meta name="author" content="LeDao"><meta name="copyright" content="LeDao"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta property="og:type" content="website">
<meta property="og:title" content="LeDao的博客">
<meta property="og:url" content="https://blog.zoutl.cn/page/14/index.html">
<meta property="og:site_name" content="LeDao的博客">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://image.zoutl.cn/hexo-blog/images/logo.png">
<meta property="article:author" content="LeDao">
<meta property="article:tag" content="LeDao的博客,Java,idea使用,个人项目,Tomcat,MySQL,GitHub,前端,MyBatis,MyBatis-Plus,CentOS7,Redis,Vue.js">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://image.zoutl.cn/hexo-blog/images/logo.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://blog.zoutl.cn/page/14/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?112c188c9864ee3c98ba7e2495734acf";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'LeDao的博客',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2022-03-02 03:14:31'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const fontSizeVal = saveToLocal.get('global-font-size')
    if (fontSizeVal !== undefined) {
      document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
    }
    
    const detectApple = () => {
      if (GLOBAL_CONFIG_SITE.isHome && /iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="LeDao的博客" type="application/atom+xml">
<style>.darkmode--activated{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#282b2e;--highlight-foreground:#a9b7c6;--highlight-gutter-background:#34393d;--highlight-gutter-foreground:#9ca9b6}.darkmode--activated img{opacity:.75}.darkmode--activated img:hover{opacity:.9}.darkmode--activated code{color:#69dbdc;background:0 0}button.darkmode-toggle{z-index:9999}</style></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://image.zoutl.cn/hexo-blog/images/logo.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">457</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">63</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">34</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://image.zoutl.cn/hexo-blog/images/homeBlogImage/6.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">LeDao的博客</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">LeDao的博客</h1></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left_radius"><a href="/327.html" title="PotPlayer安装皮肤">     <img class="post_bg" src="https://image.zoutl.cn/hexo-blog/images/homeBlogImage/118.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="PotPlayer安装皮肤"></a></div><div class="recent-post-info"><a class="article-title" href="/327.html" title="PotPlayer安装皮肤">PotPlayer安装皮肤</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-08-30T13:06:23.000Z" title="发表于 2021-08-30 21:06:23">2021-08-30</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%85%B6%E5%AE%83/">其它</a></span></div><div class="content">下载皮肤下载地址：PotPlayer皮肤 - PotPlayer中文网 (potplayercn.com)
安装皮肤下载后解压解压时选择提取到xxxxx文件夹，xxxxx就是下载好的压缩包名称
找到皮肤文件夹打开PotPlayer后，在界面上右键点击，选择皮肤–&gt;&gt;皮肤设置

打开皮肤文件夹，找到PotPlayer的皮肤安装目录

使用皮肤然后把上面解压后的文件夹复制到皮肤文件夹中，再重启PotPlayer，在界面上右键点击，选择皮肤再选择对应的皮肤即可
</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/326.html" title="Keepalived+Nginx实现高可用集群配置">     <img class="post_bg" src="https://image.zoutl.cn/hexo-blog/images/homeBlogImage/3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Keepalived+Nginx实现高可用集群配置"></a></div><div class="recent-post-info"><a class="article-title" href="/326.html" title="Keepalived+Nginx实现高可用集群配置">Keepalived+Nginx实现高可用集群配置</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-08-30T04:54:13.000Z" title="发表于 2021-08-30 12:54:13">2021-08-30</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Nginx/">Nginx</a></span></div><div class="content">克隆虚拟机克隆当前虚拟机，查看克隆步骤：VMware克隆虚拟机 ，当前虚拟机为主机，克隆的虚拟机为备用机（主机崩了才会启用备用机）
配置主机配置虚拟机hosts文件路径为：/etc/hosts，在底部添加：
1127.0.0.1 KEEPALIVED_NGINX_MASTER

Keepalived配置介绍1234567891011121314151617181920212223242526272829303132333435# 全局配置global_defs &#123;   notification_email &#123; # keepalived服务宕机异常出现的时候，发送通知邮件 可以是多个     acassen@firewall.loc  #  收件人邮箱1     failover@firewall.loc #  收件人邮箱2     sysadmin@firewall.loc #  收件人邮箱3   &#125;   notification_email_from Alexandre.Cassen@firewall.loc  #邮件发件人   smtp_server  ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/325.html" title="VMware克隆虚拟机">     <img class="post_bg" src="https://image.zoutl.cn/hexo-blog/images/homeBlogImage/38.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="VMware克隆虚拟机"></a></div><div class="recent-post-info"><a class="article-title" href="/325.html" title="VMware克隆虚拟机">VMware克隆虚拟机</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-08-30T04:37:03.000Z" title="发表于 2021-08-30 12:37:03">2021-08-30</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%85%B6%E5%AE%83/">其它</a></span></div><div class="content">关闭虚拟机如果要克隆的虚拟机正在运行，就先把它停掉，正在运行的虚拟机是无法克隆的
开始克隆
选中要克隆的虚拟机右键点击，选择 管理–&gt;&gt;克隆



克隆类型选择完整克隆



填写虚拟机名称以及存储路径

</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/324.html" title="CentOS7安装Keepalived">     <img class="post_bg" src="https://image.zoutl.cn/hexo-blog/images/homeBlogImage/55.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CentOS7安装Keepalived"></a></div><div class="recent-post-info"><a class="article-title" href="/324.html" title="CentOS7安装Keepalived">CentOS7安装Keepalived</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-08-30T00:54:42.000Z" title="发表于 2021-08-30 08:54:42">2021-08-30</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/CentOS7/">CentOS7</a></span></div><div class="content">安装1yum install keepalived

常用命令启动
1systemctl start keepalived.service

关闭
1systemctl stop keepalived.service

重启
1systemctl restart keepalived.service

查看日志
1tail -f /var/log/messages

PS.配置文件在/etc/keepalived目录下，名称为：keepalived.conf
日志文件在/var/log目录下，名称为：messages</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/323.html" title="CentOS7安装Nginx">     <img class="post_bg" src="https://image.zoutl.cn/hexo-blog/images/homeBlogImage/46.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CentOS7安装Nginx"></a></div><div class="recent-post-info"><a class="article-title" href="/323.html" title="CentOS7安装Nginx">CentOS7安装Nginx</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-08-30T00:15:10.000Z" title="发表于 2021-08-30 08:15:10">2021-08-30</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/CentOS7/">CentOS7</a></span></div><div class="content">添加Nginx源CentOS7默认是没有Nginx源的，Nginx官方提供了添加源的命令：
1rpm -Uvh http://nginx.org/packages/centos/7/noarch/RPMS/nginx-release-centos-7-0.el7.ngx.noarch.rpm

安装Nginx1yum install -y nginx

启动Nginx1systemctl start nginx.service

设置开机自动运行1systemctl enable nginx.service

关闭防火墙关闭
1systemctl stop firewalld

查看状态
1systemctl status  firewalld

测试浏览器地址栏输入虚拟机IP，看到 Welcome to nginx! 就说明安装成功
卸载nginx1yum remove nginx

PS.CentOS7关闭Nginx命令
1systemctl stop nginx.service

CentOS7启动Nginx命令
1systemctl start nginx.service

C ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/322.html" title="Nginx实现虚拟主机">     <img class="post_bg" src="https://image.zoutl.cn/hexo-blog/images/homeBlogImage/65.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Nginx实现虚拟主机"></a></div><div class="recent-post-info"><a class="article-title" href="/322.html" title="Nginx实现虚拟主机">Nginx实现虚拟主机</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-08-29T16:02:51.000Z" title="发表于 2021-08-30 00:02:51">2021-08-30</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Nginx/">Nginx</a></span></div><div class="content">简介虚拟主机概念比较广，可以是虚拟硬件来实现多网站，多应用运行，也可以是通过一些代理服务器来实现单击多网站运行，例如：我们一个服务器上可以配置三个网站，通过三个域名访问
Nginx可以通过反向代理来实现虚拟主机
实现过程创建Tomcat容器创建3个Tomcat容器,并修改对应的默认项目的首页文件（主要是方便查看运行的是哪个Tomcat）
12345docker run -d --name tomcat1 -p 8080:8080 -v /home/data/tomcat/tomcat1/conf/:/usr/local/tomcat/conf/  -v /home/data/tomcat/tomcat1/webapps/:/usr/local/tomcat/webapps/ 108db0e7c85edocker run -d --name tomcat2 -p 9090:9090 -v /home/data/tomcat/tomcat2/conf/:/usr/local/tomcat/conf/  -v /home/data/tomcat/tomcat2/webapps/:/usr/l ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/321.html" title="Nginx实现动静分离">     <img class="post_bg" src="https://image.zoutl.cn/hexo-blog/images/homeBlogImage/92.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Nginx实现动静分离"></a></div><div class="recent-post-info"><a class="article-title" href="/321.html" title="Nginx实现动静分离">Nginx实现动静分离</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-08-29T15:15:00.000Z" title="发表于 2021-08-29 23:15:00">2021-08-29</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Nginx/">Nginx</a></span></div><div class="content">简介动静分离是指在web服务器架构中，将静态页面与动态页面或者静态内容接口和动态内容接口分开不同系统访问的架构设计方法，进而提升整个服务访问性能和可维护性
我们可以把静态html页面，css样式，js文件，以及图片文件这些静态放Nginx服务器中，然后把动态请求显示的文件放类似Tomcat这样的容器服务器
这样方便维护，也可以提高系统性能
实现过程新建Nginx静态服务器新建Nginx容器
1docker run -it --name=myNginx2 -v /home/data/nginx2:/etc/nginx -v /home/data/nginx2data:/home/nginx -p 1010:1010 nginx镜像id

在/home/data/nginx2data/目录下放静态资源

index.html
12345678910111213&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt;    &lt;meta charset=&quot;UTF-8&quot;&gt;    &lt;ti ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/320.html" title="Nginx负载均衡backup和down配置">     <img class="post_bg" src="https://image.zoutl.cn/hexo-blog/images/homeBlogImage/66.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Nginx负载均衡backup和down配置"></a></div><div class="recent-post-info"><a class="article-title" href="/320.html" title="Nginx负载均衡backup和down配置">Nginx负载均衡backup和down配置</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-08-26T19:17:39.000Z" title="发表于 2021-08-27 03:17:39">2021-08-27</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Nginx/">Nginx</a></span></div><div class="content">这两个配置很多时候用于运维，维护某个机器的时候用
backup其他非backup机器挂掉后，才会请求backup机器
实例：
1234upstream www.123.com&#123;     server 172.17.0.2:8080;     server 172.17.0.3:9090 backup;&#125;

down配置down的服务器不参与负载均衡，
1234upstream www.123.com&#123;     server 172.17.0.2:8080;     server 172.17.0.3:9090 down;&#125;</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/319.html" title="Nginx负载均衡策略">     <img class="post_bg" src="https://image.zoutl.cn/hexo-blog/images/homeBlogImage/28.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Nginx负载均衡策略"></a></div><div class="recent-post-info"><a class="article-title" href="/319.html" title="Nginx负载均衡策略">Nginx负载均衡策略</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-08-26T19:11:58.000Z" title="发表于 2021-08-27 03:11:58">2021-08-27</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Nginx/">Nginx</a></span></div><div class="content">Nginx负载均衡策略有：轮询（默认）、weight权重、ip_hash、least_conn最少连接
轮询（默认）每个请求轮流分配到不同的后端服务器，如果后端服务器挂掉，则自动被剔除
实例：
1234upstream www.123.com&#123;     server 172.17.0.2:8080;     server 172.17.0.3:9090;&#125;

weight权重根据weight权重，请求会根据权重比例分发给不同后端服务器，weight权重越高，分配的比例越大；实际分配时，根据服务器硬件配置高低，来具体分配weight权重，硬件配置高的，weight就配置高点
实例：
1234upstream www.123.com&#123;     server 172.17.0.2:8080 weight=5;     server 172.17.0.3:9090 weight=10;&#125;

ip_haship_hash策略是根据用户客户端的IP的hash值来分配具体服务器，这样每个访问客户端都会固定访问某一个服务器，这样可以解决session丢失问题，很 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/318.html" title="Nginx实现负载均衡">     <img class="post_bg" src="https://image.zoutl.cn/hexo-blog/images/homeBlogImage/52.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Nginx实现负载均衡"></a></div><div class="recent-post-info"><a class="article-title" href="/318.html" title="Nginx实现负载均衡">Nginx实现负载均衡</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-08-26T17:59:31.000Z" title="发表于 2021-08-27 01:59:31">2021-08-27</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Nginx/">Nginx</a></span></div><div class="content">原理Docker中运行多个Tomcat，客户端把请求发送给Nginx后，由Nginx分发给其中一个Tomcat，Tomcat响应后再由Nginx返回结果到客户端
实现过程复制Tomcat配置创建并启动一个Tomcat容器
1docker run -d --name=自定义名称 -p 8080:8080 tomcat镜像id

在 /home/data/tomcat 目录下新建两个目录：tomcat1、tomcat2，并把该容器的 /usr/local/tomcat/conf 和 /usr/local/tomcat/webapps 目录复制到 /home/tomcat1 和 /home/tomcat2 下，复制命令为：
1234567#复制到tomcat1docker cp 该容器id:/usr/local/tomcat/conf /home/data/tomcat/tomcat1/docker cp 该容器id:/usr/local/tomcat/webapps /home/data/tomcat/tomcat1/#复制到tomcat2docker cp 该容器id:/usr/loca ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/13/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/#content-inner">13</a><span class="page-number current">14</span><a class="page-number" href="/page/15/#content-inner">15</a><span class="space">&hellip;</span><a class="page-number" href="/page/46/#content-inner">46</a><a class="extend next" rel="next" href="/page/15/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://image.zoutl.cn/hexo-blog/images/logo.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">LeDao</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">457</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">63</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">34</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/a6678696"><i class="fab fa-github"></i><span>My GitHub</span></a></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/459.html" title="Spring Boot监听Redis过期的key"><img src="https://image.zoutl.cn/hexo-blog/images/homeBlogImage/28.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spring Boot监听Redis过期的key"/></a><div class="content"><a class="title" href="/459.html" title="Spring Boot监听Redis过期的key">Spring Boot监听Redis过期的key</a><time datetime="2022-03-01T18:41:51.000Z" title="发表于 2022-03-02 02:41:51">2022-03-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/458.html" title="Redis给key设置过期时间"><img src="https://image.zoutl.cn/hexo-blog/images/homeBlogImage/4.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Redis给key设置过期时间"/></a><div class="content"><a class="title" href="/458.html" title="Redis给key设置过期时间">Redis给key设置过期时间</a><time datetime="2022-03-01T18:22:08.000Z" title="发表于 2022-03-02 02:22:08">2022-03-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/457.html" title="Spring使用@Transactional注解实现事务"><img src="https://image.zoutl.cn/hexo-blog/images/homeBlogImage/107.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spring使用@Transactional注解实现事务"/></a><div class="content"><a class="title" href="/457.html" title="Spring使用@Transactional注解实现事务">Spring使用@Transactional注解实现事务</a><time datetime="2022-02-28T12:26:02.000Z" title="发表于 2022-02-28 20:26:02">2022-02-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/456.html" title="Spring MVC使用@ResponseBody注解时返回中文出现乱码的解决办法"><img src="https://image.zoutl.cn/hexo-blog/images/homeBlogImage/67.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spring MVC使用@ResponseBody注解时返回中文出现乱码的解决办法"/></a><div class="content"><a class="title" href="/456.html" title="Spring MVC使用@ResponseBody注解时返回中文出现乱码的解决办法">Spring MVC使用@ResponseBody注解时返回中文出现乱码的解决办法</a><time datetime="2022-02-28T01:15:10.000Z" title="发表于 2022-02-28 09:15:10">2022-02-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/455.html" title="npm报错：A complete log of this run can be fund in的解决办法"><img src="https://image.zoutl.cn/hexo-blog/images/homeBlogImage/31.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="npm报错：A complete log of this run can be fund in的解决办法"/></a><div class="content"><a class="title" href="/455.html" title="npm报错：A complete log of this run can be fund in的解决办法">npm报错：A complete log of this run can be fund in的解决办法</a><time datetime="2022-02-26T13:06:33.000Z" title="发表于 2022-02-26 21:06:33">2022-02-26</time></div></div></div></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">457</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2021-07-31T16:00:00.000Z"></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">189.7k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2022-03-01T19:14:30.674Z"></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://image.zoutl.cn/hexo-blog/images/homeBlogImage/6.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022&nbsp;<i style="color:red;animation: announ_animation 0.8s linear infinite;"class="fa fa-heartbeat"></i> By LeDao</div><div class="footer_custom_text"><span>本网站由</span><a target="_blank" rel="noopener" href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral"><img class="icp-icon" src="https://image.zoutl.cn/hexo-blog/images/%E5%8F%88%E6%8B%8D%E4%BA%91_logo2.png"></a><span>提供CDN加速/云存储服务</span><br/><a target="_blank" rel="noopener" href="https://beian.miit.gov.cn/">桂ICP备20005695号 </a><img src='https://image.zoutl.cn/hexo-blog/images/beian.png'><a target="_blank" rel="noopener" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=45098102000418"> 桂公网安备45098102000418号</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="font-plus" type="button" title="放大字体"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="缩小字体"><i class="fas fa-minus"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="true"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-heart.min.js" async="async" mobile="false"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>