<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>LeDao的博客</title>
  
  
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2021-08-18T10:29:12.931Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>LeDao</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Git查看远程库地址</title>
    <link href="http://example.com/285.html"/>
    <id>http://example.com/285.html</id>
    <published>2021-08-18T10:25:40.000Z</published>
    <updated>2021-08-18T10:29:12.931Z</updated>
    
    <content type="html"><![CDATA[<p>命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote -v</span><br></pre></td></tr></table></figure><p>结果：</p><p><img src="https://image.zoutl.cn/hexo-blog/blogImage/2021-08-18%20182819.png"></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://image.zoutl.cn/hexo-blog/images/homeBlogImage/78.jpg&quot; alt=&quot;img&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Git" scheme="http://example.com/categories/Git/"/>
    
    
    <category term="Git" scheme="http://example.com/tags/Git/"/>
    
  </entry>
  
  <entry>
    <title>Zuul请求过滤配置</title>
    <link href="http://example.com/284.html"/>
    <id>http://example.com/284.html</id>
    <published>2021-08-17T17:21:10.000Z</published>
    <updated>2021-08-17T18:24:47.556Z</updated>
    
    <content type="html"><![CDATA[<h3 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h3><p>有时候系统的功能并不对外开放，所以在请求服务时可以过滤掉非法请求。Zuul通过ZuulFilter过滤器实现，每次经过Zuul服务网关，我们都对带来的token进行有效性验证，验证不通过就无法请求成功</p><h3 id="配置过程"><a href="#配置过程" class="headerlink" title="配置过程"></a>配置过程</h3><h4 id="定义过滤类"><a href="#定义过滤类" class="headerlink" title="定义过滤类"></a>定义过滤类</h4><p>命名为：AccessFilter.java，继承ZuulFilter</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ledao.filter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.netflix.zuul.ZuulFilter;</span><br><span class="line"><span class="keyword">import</span> com.netflix.zuul.context.RequestContext;</span><br><span class="line"><span class="keyword">import</span> com.netflix.zuul.exception.ZuulException;</span><br><span class="line"><span class="keyword">import</span> org.slf4j.Logger;</span><br><span class="line"><span class="keyword">import</span> org.slf4j.LoggerFactory;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> LeDao</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@company</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021-08-18 0:57</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccessFilter</span> <span class="keyword">extends</span> <span class="title">ZuulFilter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    Logger logger = LoggerFactory.getLogger(AccessFilter.class);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 过滤器的类型 这里用pre，代表会再请求被路由之前执行</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">filterType</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;pre&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 过滤器的执行顺序</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">filterOrder</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 判断该过滤器是否要被执行,返回true则执行过滤器</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">shouldFilter</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 过滤器的具体执行逻辑</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> ZuulException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">run</span><span class="params">()</span> <span class="keyword">throws</span> ZuulException </span>&#123;</span><br><span class="line">        RequestContext requestContext = RequestContext.getCurrentContext();</span><br><span class="line">        HttpServletRequest request = requestContext.getRequest();</span><br><span class="line">        String parameter = request.getParameter(<span class="string">&quot;accessToken&quot;</span>);</span><br><span class="line">        logger.info(request.getRequestURI() + <span class="string">&quot;请求访问&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (parameter == <span class="keyword">null</span>) &#123;</span><br><span class="line">            logger.error(<span class="string">&quot;accessToken为空!&quot;</span>);</span><br><span class="line">            requestContext.setSendZuulResponse(<span class="keyword">false</span>);</span><br><span class="line">            requestContext.setResponseStatusCode(<span class="number">401</span>);</span><br><span class="line">            requestContext.setResponseBody(<span class="string">&quot;&#123;\&quot;result\&quot;:\&quot;accessToken is empty!\&quot;&#125;&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        logger.info(request.getRequestURI() + <span class="string">&quot;请求成功&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="开启Filter配置"><a href="#开启Filter配置" class="headerlink" title="开启Filter配置"></a>开启Filter配置</h4><p>新建一个类，命名为：ZuulConfig.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ledao.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.ledao.filter.AccessFilter;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Zuul配置</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> LeDao</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@company</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021-08-18 0:59</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ZuulConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> AccessFilter <span class="title">accessFilter</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> AccessFilter();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h3><p>直接输入：<a href="http://zuul.ledao.com:3001/ledao/studentServer/student/list">http://zuul.ledao.com:3001/ledao/studentServer/student/list</a> ，请求失败，返回错误信息：<font color="#dd0000">{“result”: “accessToken is empty!”}</font></p><p>加上<font color="#dd0000">?accessToken=111</font>，即：<a href="http://zuul.ledao.com:3001/ledao/studentServer/student/list?accessToken=111">http://zuul.ledao.com:3001/ledao/studentServer/student/list?accessToken=111</a> ，请求成功，返回正确的数据</p><p>本文主要是实现过滤配置，上面只是模拟了有accessToken</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://image.zoutl.cn/hexo-blog/images/homeBlogImage/41.jpg&quot; alt=&quot;img&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Spring Cloud" scheme="http://example.com/categories/Spring-Cloud/"/>
    
    
    <category term="Spring Cloud" scheme="http://example.com/tags/Spring-Cloud/"/>
    
    <category term="Zuul" scheme="http://example.com/tags/Zuul/"/>
    
  </entry>
  
  <entry>
    <title>Zuul路由映射规则配置</title>
    <link href="http://example.com/283.html"/>
    <id>http://example.com/283.html</id>
    <published>2021-08-17T16:26:01.000Z</published>
    <updated>2021-08-17T16:46:41.065Z</updated>
    
    <content type="html"><![CDATA[<h3 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h3><p>默认路由请求地址，很容易暴露接口细节，可以通过配置映射规则来提高服务的安全性</p><h3 id="配置过程"><a href="#配置过程" class="headerlink" title="配置过程"></a>配置过程</h3><p>在application.yml中添加以下配置</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">zuul:</span></span><br><span class="line">  <span class="attr">routes:</span></span><br><span class="line">    <span class="attr">studentServer.serviceId:</span> <span class="string">microservice-student</span> <span class="comment">#服务名称</span></span><br><span class="line">    <span class="attr">studentServer.path:</span> <span class="string">/studentServer/**</span> <span class="comment">#替代服务的路径</span></span><br></pre></td></tr></table></figure><p>现在可以通过 <a href="http://zuul.ledao.com:3001/studentServer/student/list">http://zuul.ledao.com:3001/studentServer/student/list</a> 访问了</p><p>但是也可以通过 <a href="http://zuul.ledao.com:3001/microservice-student/student/list">http://zuul.ledao.com:3001/microservice-student/student/list</a> 访问，这样是不安全的，如果要忽略microservice-student服务就添加配置：ignored-services: “microservice-student”，如果要忽略所有的服务名称则修改为：ignored-services: “*”，完整配置如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">zuul:</span></span><br><span class="line">  <span class="attr">routes:</span></span><br><span class="line">    <span class="attr">studentServer.serviceId:</span> <span class="string">microservice-student</span> <span class="comment">#服务名称</span></span><br><span class="line">    <span class="attr">studentServer.path:</span> <span class="string">/studentServer/**</span> <span class="comment">#替代服务的路径</span></span><br><span class="line">  <span class="attr">ignored-services:</span> <span class="string">&quot;*&quot;</span></span><br></pre></td></tr></table></figure><p>如果添加请求前缀，就添加配置：prefix: /ledao，<font color="#dd0000"><strong>最终配置</strong></font>如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Zuul路由配置</span></span><br><span class="line"><span class="attr">zuul:</span></span><br><span class="line">  <span class="attr">routes:</span></span><br><span class="line">    <span class="attr">studentServer.serviceId:</span> <span class="string">microservice-student</span> <span class="comment">#服务名称</span></span><br><span class="line">    <span class="attr">studentServer.path:</span> <span class="string">/studentServer/**</span> <span class="comment">#替代服务的路径</span></span><br><span class="line">  <span class="attr">ignored-services:</span> <span class="string">&quot;*&quot;</span> <span class="comment">#忽略的服务</span></span><br><span class="line">  <span class="attr">prefix:</span> <span class="string">/ledao</span> <span class="comment">#前缀</span></span><br></pre></td></tr></table></figure><p>现在只能通过 <a href="http://zuul.ledao.com:3001/ledao/studentServer/student/list">http://zuul.ledao.com:3001/ledao/studentServer/student/list</a> 访问，其它请求方式的结果都是404</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://image.zoutl.cn/hexo-blog/images/homeBlogImage/27.jpg&quot; alt=&quot;img&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Spring Cloud" scheme="http://example.com/categories/Spring-Cloud/"/>
    
    
    <category term="Spring Cloud" scheme="http://example.com/tags/Spring-Cloud/"/>
    
    <category term="Zuul" scheme="http://example.com/tags/Zuul/"/>
    
  </entry>
  
  <entry>
    <title>Zuul路由配置</title>
    <link href="http://example.com/282.html"/>
    <id>http://example.com/282.html</id>
    <published>2021-08-17T14:02:36.000Z</published>
    <updated>2021-08-17T17:50:05.741Z</updated>
    
    <content type="html"><![CDATA[<h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p><img src="https://image.zoutl.cn/hexo-blog/blogImage/2021-08-17%20224912.jpg"></p><p>上图的API路由网关服务由Zuul实现，主要就是对外提供服务接口的时候，起到了请求的路由和过滤作用，也因此能够隐藏内部服务的接口细节，从来有利于保护系统的安全性</p><h3 id="配置过程"><a href="#配置过程" class="headerlink" title="配置过程"></a>配置过程</h3><h4 id="新建Module"><a href="#新建Module" class="headerlink" title="新建Module"></a>新建Module</h4><p>该Module为Maven项目，命名为：microservice-zuul-3001</p><h4 id="引入依赖"><a href="#引入依赖" class="headerlink" title="引入依赖"></a>引入依赖</h4><p>引入zuul路由网关依赖</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- zuul路由网关 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-zuul<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>完整pom.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--继承microservice依赖版本--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>microservice<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>microservice-zuul-3001<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>8<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>8<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- zuul路由网关 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-zuul<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--引入microservice-common依赖,引入后可以使用microservice-common的实体类,工具类等--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>microservice-common<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-eureka<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- actuator监控 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-actuator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- hystrix容错 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-hystrix<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-config<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 修改后立即生效，热部署 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springloaded<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-devtools<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="application-yml配置"><a href="#application-yml配置" class="headerlink" title="application.yml配置"></a>application.yml配置</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">3001</span></span><br><span class="line">  <span class="attr">context-path:</span> <span class="string">/</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">microservice-zuul</span></span><br><span class="line"></span><br><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">instance:</span></span><br><span class="line">    <span class="attr">instance-id:</span> <span class="string">microservice-zuul:3001</span> <span class="comment">#客户端实例名称</span></span><br><span class="line">    <span class="attr">prefer-ip-address:</span> <span class="literal">true</span> <span class="comment">#显示IP</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="attr">service-url:</span></span><br><span class="line">      <span class="attr">defaultZone:</span> <span class="string">http://eureka2001.ledao.com:2001/eureka/,http://eureka2002.ledao.com:2002/eureka/,http://eureka2003.ledao.com:2003/eureka/</span> <span class="comment"># 集群</span></span><br><span class="line"></span><br><span class="line"><span class="attr">info:</span></span><br><span class="line">  <span class="attr">groupId:</span> <span class="string">@project.groupId@</span></span><br><span class="line">  <span class="attr">artifactId:</span> <span class="string">@project.artifactId@</span></span><br><span class="line">  <span class="attr">version:</span> <span class="string">@project.version@</span></span><br><span class="line">  <span class="string">负责人:</span> <span class="string">王五</span></span><br><span class="line">  <span class="string">联系电话:</span> <span class="number">110</span></span><br></pre></td></tr></table></figure><h4 id="修改hosts"><a href="#修改hosts" class="headerlink" title="修改hosts"></a>修改hosts</h4><p>找到 C:\Windows\System32\drivers\etc 打开hosts，底部加配置：</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">127.0</span>.<span class="number">0.1</span>  zuul.ledao.com</span><br></pre></td></tr></table></figure><h4 id="添加启动类"><a href="#添加启动类" class="headerlink" title="添加启动类"></a>添加启动类</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ledao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.cloud.netflix.zuul.EnableZuulProxy;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> LeDao</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@company</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021-08-17 22:59</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@EnableZuulProxy</span></span><br><span class="line"><span class="meta">@SpringBootApplication(exclude = &#123;DataSourceAutoConfiguration.class, HibernateJpaAutoConfiguration.class&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ZuulApplication_3001</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(ZuulApplication_3001.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><h4 id="启动"><a href="#启动" class="headerlink" title="启动"></a>启动</h4><p>启动以下项目：</p><p>microservice-eureka-server-2001</p><p>microservice-eureka-server-2002</p><p>microservice-eureka-server-2003</p><p>microservice-student-provider-hystrix-1004</p><p>microservice-zuul-3001</p><p>microservice-student-consumer-feign-80</p><p>eureka注册中心有两个服务：</p><p><img src="https://image.zoutl.cn/hexo-blog/blogImage/2021-08-17%20232447.png"></p><h4 id="访问"><a href="#访问" class="headerlink" title="访问"></a>访问</h4><p>①直接访问</p><p>直接通过 <a href="http://localhost/student/list">http://localhost/student/list</a> 访问</p><p>②通过zuul路由</p><p>通过 <a href="http://zuul.ledao.com:3001/microservice-student/student/list">http://zuul.ledao.com:3001/microservice-student/student/list</a> 访问</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://image.zoutl.cn/hexo-blog/images/homeBlogImage/99.jpg&quot; alt=&quot;img&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Spring Cloud" scheme="http://example.com/categories/Spring-Cloud/"/>
    
    
    <category term="Spring Cloud" scheme="http://example.com/tags/Spring-Cloud/"/>
    
    <category term="Zuul" scheme="http://example.com/tags/Zuul/"/>
    
  </entry>
  
  <entry>
    <title>Feign和Hystrix整合后配置超时时间</title>
    <link href="http://example.com/281.html"/>
    <id>http://example.com/281.html</id>
    <published>2021-08-17T13:05:39.000Z</published>
    <updated>2021-08-17T13:36:26.838Z</updated>
    
    <content type="html"><![CDATA[<p>Feign和Hystrix整合后,原来服务提供者的Hystrix超时时间配置没用了</p><p>把microservice-student-provider-hystrix-1004和microservice-student-provider-hystrix-1005的超时时间配置删除，添加到带Feign的服务消费项目的application.yml中（项目名为：microservice-student-consumer-feign-80）</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">hystrix:</span></span><br><span class="line">  <span class="attr">command:</span></span><br><span class="line">    <span class="attr">default:</span></span><br><span class="line">      <span class="attr">execution:</span></span><br><span class="line">        <span class="attr">isolation:</span></span><br><span class="line">          <span class="attr">thread:</span></span><br><span class="line">            <span class="attr">timeoutInMilliseconds:</span> <span class="number">3000</span></span><br></pre></td></tr></table></figure><p>虽然添加了超时时间配置，但是还是无效，无效原因为：feign 也有一个超时时间的设置，feign底层是ribbon的封装，所以直接配置ribbon，ribbon默认超时也是1秒。所以这里都是强制要求，ribbon的超时时间要大于hystrix的超时时间，否则 hystrix自定义的超时时间毫无意义</p><p>所以还得加个 ribbon超时时间设置</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">ribbon:</span></span><br><span class="line">  <span class="attr">ReadTimeout:</span> <span class="number">10000</span></span><br><span class="line">  <span class="attr">ConnectTimeout:</span> <span class="number">9000</span></span><br></pre></td></tr></table></figure><p>到此，超时时间配置完成，新的超时时间已经生效</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://image.zoutl.cn/hexo-blog/images/homeBlogImage/2.jpg&quot; alt=&quot;img&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Spring Cloud" scheme="http://example.com/categories/Spring-Cloud/"/>
    
    
    <category term="Spring Cloud" scheme="http://example.com/tags/Spring-Cloud/"/>
    
    <category term="Feign" scheme="http://example.com/tags/Feign/"/>
    
    <category term="Hystrix" scheme="http://example.com/tags/Hystrix/"/>
    
  </entry>
  
  <entry>
    <title>Windows10输入法获取当前时间</title>
    <link href="http://example.com/280.html"/>
    <id>http://example.com/280.html</id>
    <published>2021-08-16T20:44:49.000Z</published>
    <updated>2021-08-16T21:02:51.673Z</updated>
    
    <content type="html"><![CDATA[<h3 id="打开输入法设置"><a href="#打开输入法设置" class="headerlink" title="打开输入法设置"></a>打开输入法设置</h3><p><strong>右击单击右下角的输入法选项，选择设置</strong></p><img src="https://image.zoutl.cn/hexo-blog/blogImage/2021-08-17%20045135.png" style="zoom:67%;" /><h3 id="选择词库和自学习"><a href="#选择词库和自学习" class="headerlink" title="选择词库和自学习"></a><strong>选择词库和自学习</strong></h3><img src="https://image.zoutl.cn/hexo-blog/blogImage/2021-08-17%20045223.png" style="zoom:67%;" /><h3 id="点击添加或编辑自定义短语"><a href="#点击添加或编辑自定义短语" class="headerlink" title="点击添加或编辑自定义短语"></a><strong>点击添加或编辑自定义短语</strong></h3><img src="https://image.zoutl.cn/hexo-blog/blogImage/2021-08-17%20045244.png" style="zoom:67%;" /><h3 id="添加短语"><a href="#添加短语" class="headerlink" title="添加短语"></a>添加短语</h3><p>添加短语：<font color="#dd0000">%yyyy%-%MM%-%dd% %HH%:%mm%:%ss%</font></p><img src="https://image.zoutl.cn/hexo-blog/blogImage/2021-08-17%20045457.png" style="zoom:67%;" /><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a><strong>使用</strong></h3><p>在中文模式下输入sj即可获取当前时间</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://image.zoutl.cn/hexo-blog/images/homeBlogImage/28.jpg&quot; alt=&quot;img&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="其它" scheme="http://example.com/categories/%E5%85%B6%E5%AE%83/"/>
    
    
    <category term="Windows10" scheme="http://example.com/tags/Windows10/"/>
    
  </entry>
  
  <entry>
    <title>Git恢复之前的版本</title>
    <link href="http://example.com/279.html"/>
    <id>http://example.com/279.html</id>
    <published>2021-08-16T20:01:26.000Z</published>
    <updated>2021-08-16T20:48:20.744Z</updated>
    
    <content type="html"><![CDATA[<h3 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h3><p>回退（reset）、反做（revert）</p><h3 id="回退（reset）"><a href="#回退（reset）" class="headerlink" title="回退（reset）"></a>回退（reset）</h3><h4 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h4><p>git reset的作用是修改HEAD的位置，即将HEAD指向的位置改变为之前存在的某个版本，如下图所示，假设我们要回退到版本一</p><p><img src="https://image.zoutl.cn/hexo-blog/blogImage/2021-08-17%20041222.png"></p><h4 id="适用场景"><a href="#适用场景" class="headerlink" title="适用场景"></a>适用场景</h4><p>如果我们想撤销之前的某一版本，但是又想保留该目标版本后面的版本，记录下这整个版本变动流程，就可以用这种方法</p><h4 id="具体操作"><a href="#具体操作" class="headerlink" title="具体操作"></a>具体操作</h4><p>先查看当前库有哪些版本号，查看方法有两种：</p><p>①Git命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span></span><br></pre></td></tr></table></figure><p>commit后的黄色字符串就是版本号</p><p><img src="https://image.zoutl.cn/hexo-blog/blogImage/2021-08-17%20042055.png"></p><p>②在GitHub中查看</p><p>点击下图的提交数</p><p><img src="https://image.zoutl.cn/hexo-blog/blogImage/2021-08-17%20041534.png"></p><p>点击下图的复制按钮即可复制完整版本号</p><p><img src="https://image.zoutl.cn/hexo-blog/blogImage/2021-08-17%20041538.png"></p><p>使用下面命令将版本回退</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard 目标版本号</span><br></pre></td></tr></table></figure><p>使用下面命令提交更改，-f代表强制</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push -f</span><br></pre></td></tr></table></figure><h3 id="反做（revert）"><a href="#反做（revert）" class="headerlink" title="反做（revert）"></a>反做（revert）</h3><h4 id="原理-1"><a href="#原理-1" class="headerlink" title="原理"></a>原理</h4><p>git revert是用于“反做”某一个版本，以达到撤销该版本的修改的目的。比如，我们commit了三个版本（版本一、版本二、 版本三），突然发现版本二不行（如：有bug），想要撤销版本二，但又不想影响撤销版本三的提交，就可以用 git revert 命令来反做版本二，生成新的版本四，这个版本四里会保留版本三的东西，但撤销了版本二的东西<br><img src="https://image.zoutl.cn/hexo-blog/blogImage/2021-08-17%20041230.png"></p><h4 id="适用场景-1"><a href="#适用场景-1" class="headerlink" title="适用场景"></a>适用场景</h4><p>如果我们想撤销之前的某一版本，但是又想保留该目标版本后面的版本，记录下这整个版本变动流程，就可以用这种方法</p><h4 id="具体操作-1"><a href="#具体操作-1" class="headerlink" title="具体操作"></a>具体操作</h4><p>查看版本号，上面有具体操作</p><p>使用下面命令反做，这里可能会出现冲突，那么需要手动修改冲突的文件，而且要git add 文件名</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git revert -n 版本号</span><br></pre></td></tr></table></figure><p>使用下面命令提交</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m <span class="string">&quot;提交备注信息&quot;</span></span><br></pre></td></tr></table></figure><p>使用下面命令提交更改到远程库</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push</span><br></pre></td></tr></table></figure><h3 id="PS"><a href="#PS" class="headerlink" title="PS."></a>PS.</h3><p>来源：<a href="https://blog.csdn.net/yxlshk/article/details/79944535">https://blog.csdn.net/yxlshk/article/details/79944535</a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://image.zoutl.cn/hexo-blog/images/homeBlogImage/88.jpg&quot; alt=&quot;img&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Git" scheme="http://example.com/categories/Git/"/>
    
    
    <category term="GitHub" scheme="http://example.com/tags/GitHub/"/>
    
    <category term="Git" scheme="http://example.com/tags/Git/"/>
    
  </entry>
  
  <entry>
    <title>整合Feign和Hystrix实现服务熔断服务降级彻底解耦</title>
    <link href="http://example.com/278.html"/>
    <id>http://example.com/278.html</id>
    <published>2021-08-16T19:23:55.000Z</published>
    <updated>2021-08-17T13:32:50.005Z</updated>
    
    <content type="html"><![CDATA[<h3 id="解耦原因"><a href="#解耦原因" class="headerlink" title="解耦原因"></a>解耦原因</h3><p>下面代码使用<font color="#dd0000">@HystrixCommand(fallbackMethod = “getInfoFallback”)</font>业务代码耦合度太高，不利于维护，所以需要整合Feign和Hystrix进行解耦</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取信息</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@throws</span> InterruptedException</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/getInfo&quot;)</span></span><br><span class="line"><span class="meta">@HystrixCommand(fallbackMethod = &quot;getInfoFallback&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Map&lt;String, Object&gt; <span class="title">getInfo</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">    Thread.sleep(<span class="number">100</span>);</span><br><span class="line">    Map&lt;String, Object&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;(<span class="number">16</span>);</span><br><span class="line">    map.put(<span class="string">&quot;code&quot;</span>, <span class="number">200</span>);</span><br><span class="line">    map.put(<span class="string">&quot;info&quot;</span>, <span class="string">&quot;业务数据1004&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> map;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 请求超时就请求我</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Map&lt;String, Object&gt; <span class="title">getInfoFallback</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Map&lt;String, Object&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;(<span class="number">16</span>);</span><br><span class="line">    map.put(<span class="string">&quot;code&quot;</span>, <span class="number">500</span>);</span><br><span class="line">    map.put(<span class="string">&quot;info&quot;</span>, <span class="string">&quot;系统出错，稍后重试&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> map;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="实现过程"><a href="#实现过程" class="headerlink" title="实现过程"></a>实现过程</h3><h4 id="修改Hystrix服务提供者项目"><a href="#修改Hystrix服务提供者项目" class="headerlink" title="修改Hystrix服务提供者项目"></a>修改Hystrix服务提供者项目</h4><p>项目名为：microservice-student-provider-hystrix-1004和microservice-student-provider-hystrix-1005</p><p>在StudentService.java中添加新的接口：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取信息</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function">Map&lt;String,Object&gt; <span class="title">getInfo</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure><p>在StudentServiceImpl.java中实现上面的接口</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Map&lt;String, Object&gt; <span class="title">getInfo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Map&lt;String, Object&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;(<span class="number">16</span>);</span><br><span class="line">    map.put(<span class="string">&quot;code&quot;</span>, <span class="number">200</span>);</span><br><span class="line">    map.put(<span class="string">&quot;info&quot;</span>, <span class="string">&quot;业务数据1004&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> map;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在StudentProviderController.java中调用</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取信息</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@throws</span> InterruptedException</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/getInfo&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Map&lt;String, Object&gt; <span class="title">getInfo</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">    Thread.sleep(<span class="number">500</span>);</span><br><span class="line">    <span class="keyword">return</span> studentService.getInfo();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="修改公共项目"><a href="#修改公共项目" class="headerlink" title="修改公共项目"></a>修改公共项目</h4><p>项目名为：microservice-common</p><p>在StudentClientService.java中添加getInfo接口方法，并修改@FeignClient注解为：@FeignClient(value = “MICROSERVICE-STUDENT”, fallbackFactory = StudentClientFallbackFactory.class)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取信息</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/student/getInfo&quot;)</span></span><br><span class="line"><span class="function">Map&lt;String, Object&gt; <span class="title">getInfo</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure><p>新建StudentClientFallbackFactory.java，实现FallbackFactory&lt;StudentClientService&gt;接口</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ledao.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.ledao.entity.Student;</span><br><span class="line"><span class="keyword">import</span> feign.hystrix.FallbackFactory;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> LeDao</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@company</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021-08-16 2:18</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StudentClientFallbackFactory</span> <span class="keyword">implements</span> <span class="title">FallbackFactory</span>&lt;<span class="title">StudentClientService</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> StudentClientService <span class="title">create</span><span class="params">(Throwable throwable)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> StudentClientService() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> Student <span class="title">get</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> List&lt;Student&gt; <span class="title">list</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">save</span><span class="params">(Student student)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">delete</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> Map&lt;String, Object&gt; <span class="title">getInfo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                Map&lt;String, Object&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;(<span class="number">16</span>);</span><br><span class="line">                map.put(<span class="string">&quot;code&quot;</span>, <span class="number">500</span>);</span><br><span class="line">                map.put(<span class="string">&quot;info&quot;</span>, <span class="string">&quot;系统出错，稍后重试&quot;</span>);</span><br><span class="line">                <span class="keyword">return</span> map;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="修改Feign消费者项目"><a href="#修改Feign消费者项目" class="headerlink" title="修改Feign消费者项目"></a>修改Feign消费者项目</h4><p>项目名为：microservice-student-consumer-feign-80</p><p>在StudentConsumerFeignController.java中添加调用方法</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取信息</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/getInfo&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Map&lt;String, Object&gt; <span class="title">getInfo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> studentClientService.getInfo();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>application.yml加上hystrix支持</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">feign:</span></span><br><span class="line">  <span class="attr">hystrix:</span></span><br><span class="line">    <span class="attr">enabled:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h4 id="配置超时时间"><a href="#配置超时时间" class="headerlink" title="配置超时时间"></a>配置超时时间</h4><p>因为整合了Feign和Hystrix，原来服务提供者的Hystrix超时时间配置没用了，如何配置查看：<a href="/281.html">Feign和Hystrix整合后配置超时时间</a></p><h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><p>启动以下项目：</p><p>microservice-eureka-server-2001</p><p>microservice-eureka-server-2002</p><p>microservice-eureka-server-2003</p><p>microservice-student-provider-hystrix-1004</p><p>microservice-student-provider-hystrix-1005</p><p>microservice-student-consumer-feign-80</p><p>如果超时的情况返回错误信息（<font color="#dd0000">500  系统出错，稍后重试</font>），说明配置成功</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://image.zoutl.cn/hexo-blog/images/homeBlogImage/22.jpg&quot; alt=&quot;img&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Spring Cloud" scheme="http://example.com/categories/Spring-Cloud/"/>
    
    
    <category term="Spring Cloud" scheme="http://example.com/tags/Spring-Cloud/"/>
    
    <category term="Feign" scheme="http://example.com/tags/Feign/"/>
    
    <category term="Hystrix" scheme="http://example.com/tags/Hystrix/"/>
    
  </entry>
  
  <entry>
    <title>Hystrix集群监控turbine</title>
    <link href="http://example.com/277.html"/>
    <id>http://example.com/277.html</id>
    <published>2021-08-16T19:18:59.000Z</published>
    <updated>2021-08-16T19:42:16.721Z</updated>
    
    <content type="html"><![CDATA[<h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>Hystrix集群监控使用的是turbine，而turbine是基于Dashboard的</p><h3 id="组建Hystrix集群"><a href="#组建Hystrix集群" class="headerlink" title="组建Hystrix集群"></a>组建Hystrix集群</h3><p>新建一个Module，该Module为Maven项目，命名为：microservice-student-provider-hystrix-1005，把microservice-student-provider-hystrix-1004的所有文件都复制一份过来，修改几个地方：</p><h4 id="修改application-yml"><a href="#修改application-yml" class="headerlink" title="修改application.yml"></a>修改application.yml</h4><p>server.port修改为：1005，eureka.instance.instance-id: microservice-student-hystrix修改为：1005</p><h4 id="修改启动类"><a href="#修改启动类" class="headerlink" title="修改启动类"></a>修改启动类</h4><p>如果启动类是复制过来的，重命名为：StudentProviderHystrixApplication_1005</p><h3 id="新建集群监控项目"><a href="#新建集群监控项目" class="headerlink" title="新建集群监控项目"></a>新建集群监控项目</h3><p>新建一个Module，命名为：microservice-student-consumer-hystrix-turbine-91</p><h4 id="添加依赖"><a href="#添加依赖" class="headerlink" title="添加依赖"></a>添加依赖</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-actuator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-turbine<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><p>继承父项目的依赖版本</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--继承microservice依赖版本--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>microservice<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="application-yml配置"><a href="#application-yml配置" class="headerlink" title="application.yml配置"></a>application.yml配置</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">91</span></span><br><span class="line">  <span class="attr">context-path:</span> <span class="string">/</span></span><br><span class="line"></span><br><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="attr">service-url:</span></span><br><span class="line">      <span class="attr">defaultZone:</span> <span class="string">http://eureka2001.ledao.com:2001/eureka/,http://eureka2002.ledao.com:2002/eureka/,http://eureka2003.ledao.com:2003/eureka/</span></span><br><span class="line"></span><br><span class="line"><span class="attr">turbine:</span></span><br><span class="line">  <span class="attr">app-config:</span> <span class="string">microservice-student</span>   <span class="comment"># 指定要监控的应用名称</span></span><br><span class="line">  <span class="attr">clusterNameExpression:</span> <span class="string">&quot;&#x27;default&#x27;&quot;</span> <span class="comment">#表示集群的名字为default</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">turbine</span></span><br></pre></td></tr></table></figure><h4 id="新建启动类"><a href="#新建启动类" class="headerlink" title="新建启动类"></a>新建启动类</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ledao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.cloud.netflix.turbine.EnableTurbine;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Hystrix集群监控启动类</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> LeDao</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@company</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021-08-16 1:03</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@EnableTurbine</span></span><br><span class="line"><span class="meta">@SpringBootApplication(exclude = &#123;DataSourceAutoConfiguration.class, HibernateJpaAutoConfiguration.class&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StudentConsumerTurbineApplication_91</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(StudentConsumerTurbineApplication_91.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><h4 id="启动以下项目"><a href="#启动以下项目" class="headerlink" title="启动以下项目"></a>启动以下项目</h4><p>microservice-eureka-server-2001</p><p>microservice-eureka-server-2002</p><p>microservice-eureka-server-2003</p><p>microservice-student-provider-hystrix-1004</p><p>microservice-student-provider-hystrix-1005</p><p>microservice-student-consumer-80</p><p>microservice-student-consumer-hystrix-dashboard-90</p><p>microservice-student-consumer-hystrix-turbine-91</p><h4 id="调用服务集群"><a href="#调用服务集群" class="headerlink" title="调用服务集群"></a>调用服务集群</h4><p>浏览器地址栏输入：<a href="http://localhost/student/getInfo">http://localhost/student/getInfo</a></p><h4 id="监控数据"><a href="#监控数据" class="headerlink" title="监控数据"></a>监控数据</h4><p>浏览器地址栏输入：<a href="http://localhost:91/turbine.stream">http://localhost:91/turbine.stream</a></p><p>如果使用图形界面监控，则先输入：<a href="http://localhost:90/hystrix">http://localhost:90/hystrix</a> 打开图形监控界面，在第一个输入框输入：<a href="http://localhost:91/turbine.stream">http://localhost:91/turbine.stream</a> ，再点击按钮即可</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://image.zoutl.cn/hexo-blog/images/homeBlogImage/36.jpg&quot; alt=&quot;img&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Spring Cloud" scheme="http://example.com/categories/Spring-Cloud/"/>
    
    
    <category term="Spring Cloud" scheme="http://example.com/tags/Spring-Cloud/"/>
    
    <category term="Hystrix" scheme="http://example.com/tags/Hystrix/"/>
    
  </entry>
  
  <entry>
    <title>Hystrix使用服务监控</title>
    <link href="http://example.com/276.html"/>
    <id>http://example.com/276.html</id>
    <published>2021-08-16T19:16:53.000Z</published>
    <updated>2021-08-16T19:42:27.786Z</updated>
    
    <content type="html"><![CDATA[<h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>Hystrix提供了 准实时的服务调用监控项目Dashboard，能够实时记录通过Hystrix发起的请求执行情况，可以通过图表的形式展现给用户看。</p><h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><h4 id="新建Module"><a href="#新建Module" class="headerlink" title="新建Module"></a>新建Module</h4><p>该Module为Maven项目，命名为：microservice-student-consumer-hystrix-dashboard-90</p><h4 id="添加依赖"><a href="#添加依赖" class="headerlink" title="添加依赖"></a>添加依赖</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-hystrix<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-hystrix-dashboard<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-actuator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>记得先继承父项目的依赖版本</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--继承microservice依赖版本--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>microservice<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="application-yml配置"><a href="#application-yml配置" class="headerlink" title="application.yml配置"></a>application.yml配置</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">90</span></span><br><span class="line">  <span class="attr">context-path:</span> <span class="string">/</span></span><br></pre></td></tr></table></figure><h4 id="启动类"><a href="#启动类" class="headerlink" title="启动类"></a>启动类</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ledao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.cloud.netflix.hystrix.dashboard.EnableHystrixDashboard;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Hystrix服务监控90启动类</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> LeDao</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@company</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021-08-15 17:46</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@EnableHystrixDashboard</span></span><br><span class="line"><span class="meta">@SpringBootApplication(exclude = &#123;DataSourceAutoConfiguration.class, HibernateJpaAutoConfiguration.class&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StudentConsumerDashBoardApplication_90</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(StudentConsumerDashBoardApplication_90.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="查看结果"><a href="#查看结果" class="headerlink" title="查看结果"></a>查看结果</h4><p>在浏览器地址栏输入：<a href="http://localhost:90/hystrix">http://localhost:90/hystrix</a> ，出现下面界面说明配置成功</p><p><img src="https://image.zoutl.cn/hexo-blog/blogImage/2021-08-15%20181605.png" alt="img"></p><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>先启动三个eureka，然后再启动microservice-student-provider-hystrix-1004</p><h4 id="开始监控"><a href="#开始监控" class="headerlink" title="开始监控"></a>开始监控</h4><p>输入：<a href="http://localhost:1004/hystrix.stream">http://localhost:1004/hystrix.stream</a> ，一直是ping，然后data返回数据</p><p>如果要使用图形界面监控，浏览器地址栏输入：<a href="http://localhost:90/hystrix">http://localhost:90/hystrix</a> ，出现上图，在第一个输入框输入：<a href="http://localhost:1004/hystrix.stream">http://localhost:1004/hystrix.stream</a> ，然后点击Monitor Stream按钮即可，会出现下面界面</p><p><img src="https://image.zoutl.cn/hexo-blog/blogImage/2021-08-15%20182527.png" alt="img"></p><h4 id="指标含义"><a href="#指标含义" class="headerlink" title="指标含义"></a>指标含义</h4><p><img src="https://image.zoutl.cn/hexo-blog/blogImage/2021-08-15%20182601.png" alt="img"></p><h4 id="各种情况"><a href="#各种情况" class="headerlink" title="各种情况"></a>各种情况</h4><p><img src="https://image.zoutl.cn/hexo-blog/blogImage/2021-08-15%20182633.jpg" alt="img"></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://image.zoutl.cn/hexo-blog/images/homeBlogImage/47.jpg&quot; alt=&quot;img&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Spring Cloud" scheme="http://example.com/categories/Spring-Cloud/"/>
    
    
    <category term="Spring Cloud" scheme="http://example.com/tags/Spring-Cloud/"/>
    
    <category term="Hystrix" scheme="http://example.com/tags/Hystrix/"/>
    
  </entry>
  
  <entry>
    <title>Hystrix修改默认超时时间</title>
    <link href="http://example.com/275.html"/>
    <id>http://example.com/275.html</id>
    <published>2021-08-16T19:13:49.000Z</published>
    <updated>2021-08-16T19:42:39.820Z</updated>
    
    <content type="html"><![CDATA[<p>Hystrix的默认超时时间是1秒，有时候正常请求响应的时间就超过了1秒，所以1秒钟并不能满足日常的开发需求，需要根据实际情况设置超时时间</p><h3 id="源码位置"><a href="#源码位置" class="headerlink" title="源码位置"></a>源码位置</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Integer default_executionTimeoutInMilliseconds = <span class="number">1000</span>;</span><br></pre></td></tr></table></figure><p><img src="https://image.zoutl.cn/hexo-blog/blogImage/2021-08-15%20005052.png" alt="img"></p><h3 id="修改"><a href="#修改" class="headerlink" title="修改"></a>修改</h3><p>在application.yml中添加下面配置：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">hystrix:</span> </span><br><span class="line">  <span class="attr">command:</span> </span><br><span class="line">    <span class="attr">default:</span> </span><br><span class="line">      <span class="attr">execution:</span> </span><br><span class="line">        <span class="attr">isolation:</span> </span><br><span class="line">          <span class="attr">thread:</span> </span><br><span class="line">            <span class="attr">timeoutInMilliseconds:</span> <span class="number">3000</span></span><br></pre></td></tr></table></figure><p>数值的单位为毫秒，1000毫秒==1秒</p><h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><p>先启动三个eureka，再启动带hystrix的provider，最后启动普通的consumer</p><p>浏览器地址输入：<a href="http://localhost/student/getInfo">http://localhost/student/getInfo</a></p><p>上面配置已经将Hystrix的默认超时时间修改为3秒，使用Thread.sleep(2000)让程序睡眠两秒也不会超时</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://image.zoutl.cn/hexo-blog/images/homeBlogImage/51.jpg&quot; alt=&quot;img&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Spring Cloud" scheme="http://example.com/categories/Spring-Cloud/"/>
    
    
    <category term="Spring Cloud" scheme="http://example.com/tags/Spring-Cloud/"/>
    
    <category term="Hystrix" scheme="http://example.com/tags/Hystrix/"/>
    
  </entry>
  
  <entry>
    <title>使用Hystrix断路器</title>
    <link href="http://example.com/274.html"/>
    <id>http://example.com/274.html</id>
    <published>2021-08-16T19:07:29.000Z</published>
    <updated>2021-08-17T05:08:16.274Z</updated>
    
    <content type="html"><![CDATA[<h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>hystrix对应的中文名字是“豪猪”，豪猪周身长满了刺，能保护自己不受天敌的伤害，代表了一种防御机制，这与hystrix本身的功能不谋而合，因此Netflix团队将该框架命名为Hystrix，并使用了对应的卡通形象做作为logo。</p><p><img src="https://image.zoutl.cn/hexo-blog/blogImage/2021-08-14%20033811.jpg" alt="img"></p><p>在一个分布式系统里，许多依赖不可避免的会调用失败，比如超时、异常等，如何能够保证在一个依赖出问题的情况下，不会导致整体服务失败，这个就是Hystrix需要做的事情。Hystrix提供了熔断、隔离、Fallback、cache、监控等功能，能够在一个、或多个依赖同时出现问题时保证系统依然可用。</p><h3 id="服务雪崩效应"><a href="#服务雪崩效应" class="headerlink" title="服务雪崩效应"></a><strong>服务雪崩效应</strong></h3><p>当一个请求依赖多个服务的时候：</p><p>正常情况下的访问</p><p><img src="https://image.zoutl.cn/hexo-blog/blogImage/2021-08-14%20034111.jpg" alt="img"></p><p>但是，当请求的服务中出现无法访问、异常、超时等问题时（图中的I），那么用户的请求将会被阻塞</p><p><img src="https://image.zoutl.cn/hexo-blog/blogImage/2021-08-14%20034116.jpg" alt="img"></p><p>如果多个用户的请求中，都存在无法访问的服务，那么他们都将陷入阻塞的状态中</p><p><img src="https://image.zoutl.cn/hexo-blog/blogImage/2021-08-14%20034122.jpg" alt="img"></p><h3 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h3><p>Hystrix断路器可以通过服务熔断和服务降级来解决上述的服务雪崩效应</p><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>熔断机制是应对雪崩效应的一种微服务链路保护机制，当某个服务不可用或者响应时间超时，会进行服务降级，进而熔断该节点的服务调用，快速返回自定义的错误影响页面信息</p><h4 id="新建Module"><a href="#新建Module" class="headerlink" title="新建Module"></a>新建Module</h4><p>命名为microservice-student-provider-hystrix-1004，把microservice-student-provider-1001的配置和代码都复制一份到新建的Module中</p><h4 id="修改pom-xml"><a href="#修改pom-xml" class="headerlink" title="修改pom.xml"></a>修改pom.xml</h4><p>引入Hystrix断路器依赖</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--Hystrix断路器--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-hystrix<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="修改application-yml"><a href="#修改application-yml" class="headerlink" title="修改application.yml"></a>修改application.yml</h4><p>修改server.port为1004，eureka.instance.instance-id为microservice-student-hystrix:1004</p><h4 id="修改启动类"><a href="#修改启动类" class="headerlink" title="修改启动类"></a>修改启动类</h4><p>如果是复制过来的，重命名为StudentProviderHystrixApplication_1004，并添加@EnableCircuitBreaker注解支持Hystrix断路器</p><h4 id="修改消费者Controller"><a href="#修改消费者Controller" class="headerlink" title="修改消费者Controller"></a>修改消费者Controller</h4><p>StudentConsumerController.java在microservice-student-consumer-80项目中</p><p>添加getInfo方法，用于调用服务的getInfo方法</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取信息</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/getInfo&quot;)</span></span><br><span class="line"><span class="meta">@SuppressWarnings(&quot;unchecked&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Map&lt;String, Object&gt; <span class="title">getInfo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> restTemplate.getForObject(PRE_HOST + <span class="string">&quot;/student/getInfo&quot;</span>, Map.class);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="修改提供者Controller"><a href="#修改提供者Controller" class="headerlink" title="修改提供者Controller"></a>修改提供者Controller</h4><p>StudentProviderController.java在microservice-student-provider-hystrix-1004项目中</p><p>添加两个方法：getInfo方法和getInfoFallback方法</p><p>在hystrix中默认1秒算超时，使用Thread.sleep(2000)模拟请求超时（@HystrixCommand注解定义了请求超时的时候就请求getInfoFallback方法，返回500 系统出错，稍后重试），不使用就不会超时（执行完getInfo方法，返回200 业务数据）。由于请求超时的时候进行服务降级，进而熔断该节点的服务调用，快速返回自定义的错误影响页面信息，所以可以有效地解决雪崩效应</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取信息</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@throws</span> InterruptedException</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/getInfo&quot;)</span></span><br><span class="line"><span class="meta">@HystrixCommand(fallbackMethod = &quot;getInfoFallback&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Map&lt;String, Object&gt; <span class="title">getInfo</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">    Thread.sleep(<span class="number">2000</span>);</span><br><span class="line">    Map&lt;String, Object&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;(<span class="number">16</span>);</span><br><span class="line">    map.put(<span class="string">&quot;code&quot;</span>, <span class="number">200</span>);</span><br><span class="line">    map.put(<span class="string">&quot;info&quot;</span>, <span class="string">&quot;业务数据&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> map;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 请求超时就请求我</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Map&lt;String, Object&gt; <span class="title">getInfoFallback</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Map&lt;String, Object&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;(<span class="number">16</span>);</span><br><span class="line">    map.put(<span class="string">&quot;code&quot;</span>, <span class="number">500</span>);</span><br><span class="line">    map.put(<span class="string">&quot;info&quot;</span>, <span class="string">&quot;系统出错，稍后重试&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> map;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h4><p>先启动三个eureka，再启动带hystrix的provider，最后启动普通的consumer</p><p>浏览器地址输入：<a href="http://localhost/student/getInfo">http://localhost/student/getInfo</a></p><p>使用Thread.sleep(2000)时会超时，返回500 系统出错，稍后重试，如下图：</p><p><img src="https://image.zoutl.cn/hexo-blog/blogImage/2021-08-14%20043656.png" alt="img"></p><p>注释掉Thread.sleep(2000)时不会超时，返回200 业务数据，如下图：</p><p><img src="https://image.zoutl.cn/hexo-blog/blogImage/2021-08-14%20043727.png" alt="img"></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://image.zoutl.cn/hexo-blog/images/homeBlogImage/65.jpg&quot; alt=&quot;img&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Spring Cloud" scheme="http://example.com/categories/Spring-Cloud/"/>
    
    
    <category term="Spring Cloud" scheme="http://example.com/tags/Spring-Cloud/"/>
    
    <category term="Hystrix" scheme="http://example.com/tags/Hystrix/"/>
    
  </entry>
  
  <entry>
    <title>Markdown 代码块编程语言清单</title>
    <link href="http://example.com/273.html"/>
    <id>http://example.com/273.html</id>
    <published>2021-08-13T13:10:56.000Z</published>
    <updated>2021-08-13T13:22:37.357Z</updated>
    
    <content type="html"><![CDATA[<h3 id="我的常用"><a href="#我的常用" class="headerlink" title="我的常用"></a>我的常用</h3><table><thead><tr><th>语言名称</th><th>Markdown 语言声明</th></tr></thead><tbody><tr><td>HTML</td><td>html</td></tr><tr><td>CSS</td><td>css</td></tr><tr><td>JavaScript</td><td>javascript</td></tr><tr><td>Java</td><td>java</td></tr><tr><td>Linux和Windows命令、Bash、文件路径</td><td>bash</td></tr><tr><td>XML</td><td>xml</td></tr><tr><td>.yml</td><td>yaml</td></tr><tr><td>SQL</td><td>sql</td></tr></tbody></table><h3 id="所有"><a href="#所有" class="headerlink" title="所有"></a>所有</h3><table><thead><tr><th align="left">语言名称</th><th align="left">Markdown 语言声明</th><th align="left">常见文件名</th></tr></thead><tbody><tr><td align="left">1C Enterprise</td><td align="left">1c-enterprise</td><td align="left">*.bsl</td></tr><tr><td align="left">4D</td><td align="left">4d</td><td align="left">*.4dm</td></tr><tr><td align="left">ABAP</td><td align="left">abap</td><td align="left">*.abap</td></tr><tr><td align="left">ABNF</td><td align="left">abnf</td><td align="left">*.abnf</td></tr><tr><td align="left">AGS Script</td><td align="left">ags-script, ags</td><td align="left">*.asc</td></tr><tr><td align="left">AMPL</td><td align="left">ampl</td><td align="left">*.ampl</td></tr><tr><td align="left">ANTLR</td><td align="left">antlr</td><td align="left">*.g4</td></tr><tr><td align="left">API Blueprint</td><td align="left">api-blueprint</td><td align="left">*.apib</td></tr><tr><td align="left">APL</td><td align="left">apl</td><td align="left">*.apl</td></tr><tr><td align="left">ASN.1</td><td align="left">asn.1</td><td align="left">*.asn</td></tr><tr><td align="left">ASP</td><td align="left">asp, aspx, aspx-vb</td><td align="left">*.asp</td></tr><tr><td align="left">ATS</td><td align="left">ats, ats2</td><td align="left">*.dats</td></tr><tr><td align="left">ActionScript</td><td align="left">actionscript, actionscript3, as3</td><td align="left">*.as</td></tr><tr><td align="left">Ada</td><td align="left">ada, ada95, ada2005</td><td align="left">*.adb</td></tr><tr><td align="left">Adobe Font Metrics</td><td align="left">adobe-font-metrics, acfm, amfm</td><td align="left">*.afm</td></tr><tr><td align="left">Agda</td><td align="left">agda</td><td align="left">*.agda</td></tr><tr><td align="left">Alloy</td><td align="left">alloy</td><td align="left">*.als</td></tr><tr><td align="left">Alpine Abuild</td><td align="left">alpine-abuild, abuild, apkbuild</td><td align="left">APKBUILD</td></tr><tr><td align="left">Altium Designer</td><td align="left">altium-designer, altium</td><td align="left">*.OutJob</td></tr><tr><td align="left">AngelScript</td><td align="left">angelscript</td><td align="left">*.as</td></tr><tr><td align="left">Ant Build System</td><td align="left">ant-build-system</td><td align="left">ant.xml</td></tr><tr><td align="left">ApacheConf</td><td align="left">apacheconf, aconf, apache</td><td align="left">*.apacheconf, .htaccess</td></tr><tr><td align="left">Apex</td><td align="left">apex</td><td align="left">*.cls</td></tr><tr><td align="left">Apollo Guidance Computer</td><td align="left">apollo-guidance-computer</td><td align="left">*.agc</td></tr><tr><td align="left">AppleScript</td><td align="left">applescript, osascript</td><td align="left">*.applescript</td></tr><tr><td align="left">Arc</td><td align="left">arc</td><td align="left">*.arc</td></tr><tr><td align="left">AsciiDoc</td><td align="left">asciidoc</td><td align="left">*.asciidoc</td></tr><tr><td align="left">AspectJ</td><td align="left">aspectj</td><td align="left">*.aj</td></tr><tr><td align="left">Assembly</td><td align="left">assembly, asm, nasm</td><td align="left">*.asm</td></tr><tr><td align="left">Asymptote</td><td align="left">asymptote</td><td align="left">*.asy</td></tr><tr><td align="left">Augeas</td><td align="left">augeas</td><td align="left">*.aug</td></tr><tr><td align="left">AutoHotkey</td><td align="left">autohotkey, ahk</td><td align="left">*.ahk</td></tr><tr><td align="left">AutoIt</td><td align="left">autoit, au3, AutoIt3, AutoItScript</td><td align="left">*.au3</td></tr><tr><td align="left">Awk</td><td align="left">awk</td><td align="left">*.awk</td></tr><tr><td align="left">Ballerina</td><td align="left">ballerina</td><td align="left">*.bal</td></tr><tr><td align="left">Batchfile</td><td align="left">batchfile, bat, batch, dosbatch, winbatch</td><td align="left">*.bat</td></tr><tr><td align="left">Befunge</td><td align="left">befunge</td><td align="left">*.befunge</td></tr><tr><td align="left">BibTeX</td><td align="left">bibtex</td><td align="left">*.bib</td></tr><tr><td align="left">Bison</td><td align="left">bison</td><td align="left">*.bison</td></tr><tr><td align="left">BitBake</td><td align="left">bitbake</td><td align="left">*.bb</td></tr><tr><td align="left">Blade</td><td align="left">blade</td><td align="left">*.blade</td></tr><tr><td align="left">BlitzBasic</td><td align="left">blitzbasic, b3d, blitz3d, blitzplus, bplus</td><td align="left">*.bb</td></tr><tr><td align="left">BlitzMax</td><td align="left">blitzmax, bmax</td><td align="left">*.bmx</td></tr><tr><td align="left">Bluespec</td><td align="left">bluespec</td><td align="left">*.bsv</td></tr><tr><td align="left">Boo</td><td align="left">boo</td><td align="left">*.boo</td></tr><tr><td align="left">Brainfuck</td><td align="left">brainfuck</td><td align="left">*.b</td></tr><tr><td align="left">Brightscript</td><td align="left">brightscript</td><td align="left">*.brs</td></tr><tr><td align="left">C</td><td align="left">c</td><td align="left">*.c</td></tr><tr><td align="left">C#</td><td align="left">c#, csharp</td><td align="left">*.cs</td></tr><tr><td align="left">C++</td><td align="left">c++, cpp</td><td align="left">*.cpp</td></tr><tr><td align="left">C-ObjDump</td><td align="left">c-objdump</td><td align="left">*.c-objdump</td></tr><tr><td align="left">C2hs Haskell</td><td align="left">c2hs-haskell, c2hs</td><td align="left">*.chs</td></tr><tr><td align="left">CLIPS</td><td align="left">clips</td><td align="left">*.clp</td></tr><tr><td align="left">CMake</td><td align="left">cmake</td><td align="left">*.cmake, CMakeLists.txt</td></tr><tr><td align="left">COBOL</td><td align="left">cobol</td><td align="left">*.cob</td></tr><tr><td align="left">COLLADA</td><td align="left">collada</td><td align="left">*.dae</td></tr><tr><td align="left">CSON</td><td align="left">cson</td><td align="left">*.cson</td></tr><tr><td align="left">CSS</td><td align="left">css</td><td align="left">*.css</td></tr><tr><td align="left">CSV</td><td align="left">csv</td><td align="left">*.csv</td></tr><tr><td align="left">CWeb</td><td align="left">cweb</td><td align="left">*.w</td></tr><tr><td align="left">Cabal Config</td><td align="left">cabal-config, Cabal</td><td align="left">*.cabal, cabal.config</td></tr><tr><td align="left">Cap’n Proto</td><td align="left">cap’n-proto</td><td align="left">*.capnp</td></tr><tr><td align="left">CartoCSS</td><td align="left">cartocss, Carto</td><td align="left">*.mss</td></tr><tr><td align="left">Ceylon</td><td align="left">ceylon</td><td align="left">*.ceylon</td></tr><tr><td align="left">Chapel</td><td align="left">chapel, chpl</td><td align="left">*.chpl</td></tr><tr><td align="left">Charity</td><td align="left">charity</td><td align="left">*.ch</td></tr><tr><td align="left">ChucK</td><td align="left">chuck</td><td align="left">*.ck</td></tr><tr><td align="left">Cirru</td><td align="left">cirru</td><td align="left">*.cirru</td></tr><tr><td align="left">Clarion</td><td align="left">clarion</td><td align="left">*.clw</td></tr><tr><td align="left">Clean</td><td align="left">clean</td><td align="left">*.icl</td></tr><tr><td align="left">Click</td><td align="left">click</td><td align="left">*.click</td></tr><tr><td align="left">Clojure</td><td align="left">clojure</td><td align="left">*.clj, riemann.config</td></tr><tr><td align="left">Closure Templates</td><td align="left">closure-templates, soy</td><td align="left">*.soy</td></tr><tr><td align="left">Cloud Firestore Security Rules</td><td align="left">cloud-firestore-security-rules</td><td align="left">firestore.rules</td></tr><tr><td align="left">CoNLL-U</td><td align="left">conll-u, CoNLL, CoNLL-X</td><td align="left">*.conllu</td></tr><tr><td align="left">CodeQL</td><td align="left">codeql, ql</td><td align="left">*.ql</td></tr><tr><td align="left">CoffeeScript</td><td align="left">coffeescript, coffee, coffee-script</td><td align="left">*.coffee, Cakefile</td></tr><tr><td align="left">ColdFusion</td><td align="left">coldfusion, cfm, cfml</td><td align="left">*.cfm</td></tr><tr><td align="left">ColdFusion CFC</td><td align="left">coldfusion-cfc, cfc</td><td align="left">*.cfc</td></tr><tr><td align="left">Common Lisp</td><td align="left">common-lisp, lisp</td><td align="left">*.lisp</td></tr><tr><td align="left">Common Workflow Language</td><td align="left">common-workflow-language, cwl</td><td align="left">*.cwl</td></tr><tr><td align="left">Component Pascal</td><td align="left">component-pascal, delphi, objectpascal</td><td align="left">*.cp</td></tr><tr><td align="left">Cool</td><td align="left">cool</td><td align="left">*.cl</td></tr><tr><td align="left">Coq</td><td align="left">coq</td><td align="left">*.coq</td></tr><tr><td align="left">Cpp-ObjDump</td><td align="left">cpp-objdump, c++-objdump</td><td align="left">*.cppobjdump</td></tr><tr><td align="left">Creole</td><td align="left">creole</td><td align="left">*.creole</td></tr><tr><td align="left">Crystal</td><td align="left">crystal</td><td align="left">*.cr</td></tr><tr><td align="left">Csound</td><td align="left">csound, csound-orc</td><td align="left">*.orc</td></tr><tr><td align="left">Csound Document</td><td align="left">csound-document, csound-csd</td><td align="left">*.csd</td></tr><tr><td align="left">Csound Score</td><td align="left">csound-score, csound-sco</td><td align="left">*.sco</td></tr><tr><td align="left">Cuda</td><td align="left">cuda</td><td align="left">*.cu</td></tr><tr><td align="left">Cycript</td><td align="left">cycript</td><td align="left">*.cy</td></tr><tr><td align="left">Cython</td><td align="left">cython, pyrex</td><td align="left">*.pyx</td></tr><tr><td align="left">D</td><td align="left">d</td><td align="left">*.d</td></tr><tr><td align="left">D-ObjDump</td><td align="left">d-objdump</td><td align="left">*.d-objdump</td></tr><tr><td align="left">DIGITAL Command Language</td><td align="left">digital-command-language, dcl</td><td align="left">*.com</td></tr><tr><td align="left">DM</td><td align="left">dm, byond</td><td align="left">*.dm</td></tr><tr><td align="left">DNS Zone</td><td align="left">dns-zone</td><td align="left">*.zone</td></tr><tr><td align="left">DTrace</td><td align="left">dtrace, dtrace-script</td><td align="left">*.d</td></tr><tr><td align="left">Dafny</td><td align="left">dafny</td><td align="left">*.dfy</td></tr><tr><td align="left">Darcs Patch</td><td align="left">darcs-patch, dpatch</td><td align="left">*.darcspatch</td></tr><tr><td align="left">Dart</td><td align="left">dart</td><td align="left">*.dart</td></tr><tr><td align="left">DataWeave</td><td align="left">dataweave</td><td align="left">*.dwl</td></tr><tr><td align="left">Dhall</td><td align="left">dhall</td><td align="left">*.dhall</td></tr><tr><td align="left">Diff</td><td align="left">diff, udiff</td><td align="left">*.diff</td></tr><tr><td align="left">DirectX 3D File</td><td align="left">directx-3d-file</td><td align="left">*.x</td></tr><tr><td align="left">Dockerfile</td><td align="left">dockerfile</td><td align="left">*.dockerfile, Dockerfile</td></tr><tr><td align="left">Dogescript</td><td align="left">dogescript</td><td align="left">*.djs</td></tr><tr><td align="left">Dylan</td><td align="left">dylan</td><td align="left">*.dylan</td></tr><tr><td align="left">E</td><td align="left">e</td><td align="left">*.E</td></tr><tr><td align="left">EBNF</td><td align="left">ebnf</td><td align="left">*.ebnf</td></tr><tr><td align="left">ECL</td><td align="left">ecl</td><td align="left">*.ecl</td></tr><tr><td align="left">ECLiPSe</td><td align="left">eclipse</td><td align="left">*.ecl</td></tr><tr><td align="left">EJS</td><td align="left">ejs</td><td align="left">*.ejs</td></tr><tr><td align="left">EML</td><td align="left">eml</td><td align="left">*.eml</td></tr><tr><td align="left">EQ</td><td align="left">eq</td><td align="left">*.eq</td></tr><tr><td align="left">Eagle</td><td align="left">eagle</td><td align="left">*.sch</td></tr><tr><td align="left">Easybuild</td><td align="left">easybuild</td><td align="left">*.eb</td></tr><tr><td align="left">Ecere Projects</td><td align="left">ecere-projects</td><td align="left">*.epj</td></tr><tr><td align="left">EditorConfig</td><td align="left">editorconfig, editor-config</td><td align="left">.editorconfig</td></tr><tr><td align="left">Edje Data Collection</td><td align="left">edje-data-collection</td><td align="left">*.edc</td></tr><tr><td align="left">Eiffel</td><td align="left">eiffel</td><td align="left">*.e</td></tr><tr><td align="left">Elixir</td><td align="left">elixir</td><td align="left">*.ex, mix.lock</td></tr><tr><td align="left">Elm</td><td align="left">elm</td><td align="left">*.elm</td></tr><tr><td align="left">Emacs Lisp</td><td align="left">emacs-lisp, elisp, emacs</td><td align="left">*.el, .abbrev_defs</td></tr><tr><td align="left">EmberScript</td><td align="left">emberscript</td><td align="left">*.em</td></tr><tr><td align="left">Erlang</td><td align="left">erlang</td><td align="left">*.erl, Emakefile</td></tr><tr><td align="left">F#</td><td align="left">f#, fsharp</td><td align="left">*.fs</td></tr><tr><td align="left">F*</td><td align="left">f*, fstar</td><td align="left">*.fst</td></tr><tr><td align="left">FIGlet Font</td><td align="left">figlet-font, FIGfont</td><td align="left">*.flf</td></tr><tr><td align="left">FLUX</td><td align="left">flux</td><td align="left">*.fx</td></tr><tr><td align="left">Factor</td><td align="left">factor</td><td align="left">*.factor, .factor-boot-rc</td></tr><tr><td align="left">Fancy</td><td align="left">fancy</td><td align="left">*.fy, Fakefile</td></tr><tr><td align="left">Fantom</td><td align="left">fantom</td><td align="left">*.fan</td></tr><tr><td align="left">Faust</td><td align="left">faust</td><td align="left">*.dsp</td></tr><tr><td align="left">Filebench WML</td><td align="left">filebench-wml</td><td align="left">*.f</td></tr><tr><td align="left">Filterscript</td><td align="left">filterscript</td><td align="left">*.fs</td></tr><tr><td align="left">Formatted</td><td align="left">formatted</td><td align="left">*.for</td></tr><tr><td align="left">Forth</td><td align="left">forth</td><td align="left">*.fth</td></tr><tr><td align="left">Fortran</td><td align="left">fortran</td><td align="left">*.f</td></tr><tr><td align="left">Fortran Free Form</td><td align="left">fortran-free-form</td><td align="left">*.f90</td></tr><tr><td align="left">FreeMarker</td><td align="left">freemarker, ftl</td><td align="left">*.ftl</td></tr><tr><td align="left">Frege</td><td align="left">frege</td><td align="left">*.fr</td></tr><tr><td align="left">Futhark</td><td align="left">futhark</td><td align="left">*.fut</td></tr><tr><td align="left">G-code</td><td align="left">g-code</td><td align="left">*.g</td></tr><tr><td align="left">GAML</td><td align="left">gaml</td><td align="left">*.gaml</td></tr><tr><td align="left">GAMS</td><td align="left">gams</td><td align="left">*.gms</td></tr><tr><td align="left">GAP</td><td align="left">gap</td><td align="left">*.g</td></tr><tr><td align="left">GCC Machine Description</td><td align="left">gcc-machine-description</td><td align="left">*.md</td></tr><tr><td align="left">GDB</td><td align="left">gdb</td><td align="left">*.gdb</td></tr><tr><td align="left">GDScript</td><td align="left">gdscript</td><td align="left">*.gd</td></tr><tr><td align="left">GEDCOM</td><td align="left">gedcom</td><td align="left">*.ged</td></tr><tr><td align="left">GLSL</td><td align="left">glsl</td><td align="left">*.glsl</td></tr><tr><td align="left">GN</td><td align="left">gn</td><td align="left">*.gn, .gn</td></tr><tr><td align="left">Game Maker Language</td><td align="left">game-maker-language</td><td align="left">*.gml</td></tr><tr><td align="left">Genie</td><td align="left">genie</td><td align="left">*.gs</td></tr><tr><td align="left">Genshi</td><td align="left">genshi, xml+genshi, xml+kid</td><td align="left">*.kid</td></tr><tr><td align="left">Gentoo Ebuild</td><td align="left">gentoo-ebuild</td><td align="left">*.ebuild</td></tr><tr><td align="left">Gentoo Eclass</td><td align="left">gentoo-eclass</td><td align="left">*.eclass</td></tr><tr><td align="left">Gerber Image</td><td align="left">gerber-image, rs-274x</td><td align="left">*.gbr</td></tr><tr><td align="left">Gettext Catalog</td><td align="left">gettext-catalog, pot</td><td align="left">*.po</td></tr><tr><td align="left">Gherkin</td><td align="left">gherkin, cucumber</td><td align="left">*.feature</td></tr><tr><td align="left">Git Attributes</td><td align="left">git-attributes, gitattributes</td><td align="left">.gitattributes</td></tr><tr><td align="left">Git Config</td><td align="left">git-config, gitconfig, gitmodules</td><td align="left">*.gitconfig, .gitconfig</td></tr><tr><td align="left">Glyph</td><td align="left">glyph</td><td align="left">*.glf</td></tr><tr><td align="left">Glyph Bitmap Distribution Format</td><td align="left">glyph-bitmap-distribution-format</td><td align="left">*.bdf</td></tr><tr><td align="left">Gnuplot</td><td align="left">gnuplot</td><td align="left">*.gp</td></tr><tr><td align="left">Go</td><td align="left">go, golang</td><td align="left">*.go</td></tr><tr><td align="left">Golo</td><td align="left">golo</td><td align="left">*.golo</td></tr><tr><td align="left">Gosu</td><td align="left">gosu</td><td align="left">*.gs</td></tr><tr><td align="left">Grace</td><td align="left">grace</td><td align="left">*.grace</td></tr><tr><td align="left">Gradle</td><td align="left">gradle</td><td align="left">*.gradle</td></tr><tr><td align="left">Grammatical Framework</td><td align="left">grammatical-framework, gf</td><td align="left">*.gf</td></tr><tr><td align="left">Graph Modeling Language</td><td align="left">graph-modeling-language</td><td align="left">*.gml</td></tr><tr><td align="left">GraphQL</td><td align="left">graphql</td><td align="left">*.graphql</td></tr><tr><td align="left">Graphviz (DOT)</td><td align="left">dot</td><td align="left">*.dot</td></tr><tr><td align="left">Groovy</td><td align="left">groovy</td><td align="left">*.groovy, Jenkinsfile</td></tr><tr><td align="left">Groovy Server Pages</td><td align="left">groovy-server-pages, gsp</td><td align="left">*.gsp</td></tr><tr><td align="left">HAProxy</td><td align="left">haproxy</td><td align="left">*.cfg, haproxy.cfg</td></tr><tr><td align="left">HCL</td><td align="left">hcl, terraform</td><td align="left">*.hcl</td></tr><tr><td align="left">HLSL</td><td align="left">hlsl</td><td align="left">*.hlsl</td></tr><tr><td align="left">HTML</td><td align="left">html, xhtml</td><td align="left">*.html</td></tr><tr><td align="left">HTML+Django</td><td align="left">html+django, django, html+jinja, htmldjango</td><td align="left">*.jinja</td></tr><tr><td align="left">HTML+ECR</td><td align="left">html+ecr, ecr</td><td align="left">*.ecr</td></tr><tr><td align="left">HTML+EEX</td><td align="left">html+eex, eex</td><td align="left">*.eex</td></tr><tr><td align="left">HTML+ERB</td><td align="left">html+erb, erb</td><td align="left">*.erb</td></tr><tr><td align="left">HTML+PHP</td><td align="left">html+php</td><td align="left">*.phtml</td></tr><tr><td align="left">HTML+Razor</td><td align="left">html+razor, razor</td><td align="left">*.cshtml</td></tr><tr><td align="left">HTTP</td><td align="left">http</td><td align="left">*.http</td></tr><tr><td align="left">HXML</td><td align="left">hxml</td><td align="left">*.hxml</td></tr><tr><td align="left">Hack</td><td align="left">hack</td><td align="left">*.hack</td></tr><tr><td align="left">Haml</td><td align="left">haml</td><td align="left">*.haml</td></tr><tr><td align="left">Handlebars</td><td align="left">handlebars, hbs, htmlbars</td><td align="left">*.handlebars</td></tr><tr><td align="left">Harbour</td><td align="left">harbour</td><td align="left">*.hb</td></tr><tr><td align="left">Haskell</td><td align="left">haskell</td><td align="left">*.hs</td></tr><tr><td align="left">Haxe</td><td align="left">haxe</td><td align="left">*.hx</td></tr><tr><td align="left">HiveQL</td><td align="left">hiveql</td><td align="left">*.q</td></tr><tr><td align="left">HolyC</td><td align="left">holyc</td><td align="left">*.hc</td></tr><tr><td align="left">Hy</td><td align="left">hy, hylang</td><td align="left">*.hy</td></tr><tr><td align="left">HyPhy</td><td align="left">hyphy</td><td align="left">*.bf</td></tr><tr><td align="left">IDL</td><td align="left">idl</td><td align="left">*.pro</td></tr><tr><td align="left">IGOR Pro</td><td align="left">igor-pro, igor, igorpro</td><td align="left">*.ipf</td></tr><tr><td align="left">INI</td><td align="left">ini, dosini</td><td align="left">*.ini, buildozer.spec</td></tr><tr><td align="left">IRC log</td><td align="left">irc-log, irc</td><td align="left">*.irclog</td></tr><tr><td align="left">Idris</td><td align="left">idris</td><td align="left">*.idr</td></tr><tr><td align="left">Ignore List</td><td align="left">ignore-list, ignore, gitignore, git-ignore</td><td align="left">*.gitignore, .atomignore</td></tr><tr><td align="left">Inform 7</td><td align="left">inform-7, i7, inform7</td><td align="left">*.ni</td></tr><tr><td align="left">Inno Setup</td><td align="left">inno-setup</td><td align="left">*.iss</td></tr><tr><td align="left">Io</td><td align="left">io</td><td align="left">*.io</td></tr><tr><td align="left">Ioke</td><td align="left">ioke</td><td align="left">*.ik</td></tr><tr><td align="left">Isabelle</td><td align="left">isabelle</td><td align="left">*.thy</td></tr><tr><td align="left">Isabelle ROOT</td><td align="left">isabelle-root</td><td align="left">ROOT</td></tr><tr><td align="left">J</td><td align="left">j</td><td align="left">*.ijs</td></tr><tr><td align="left">JFlex</td><td align="left">jflex</td><td align="left">*.flex</td></tr><tr><td align="left">JSON</td><td align="left">json</td><td align="left">*.json, .arcconfig</td></tr><tr><td align="left">JSON with Comments</td><td align="left">json-with-comments, jsonc</td><td align="left">*.jsonc, .babelrc</td></tr><tr><td align="left">JSON5</td><td align="left">json5</td><td align="left">*.json5</td></tr><tr><td align="left">JSONLD</td><td align="left">jsonld</td><td align="left">*.jsonld</td></tr><tr><td align="left">JSONiq</td><td align="left">jsoniq</td><td align="left">*.jq</td></tr><tr><td align="left">JSX</td><td align="left">jsx</td><td align="left">*.jsx</td></tr><tr><td align="left">Jasmin</td><td align="left">jasmin</td><td align="left">*.j</td></tr><tr><td align="left">Java</td><td align="left">java</td><td align="left">*.java</td></tr><tr><td align="left">Java Properties</td><td align="left">java-properties</td><td align="left">*.properties</td></tr><tr><td align="left">Java Server Pages</td><td align="left">java-server-pages, jsp</td><td align="left">*.jsp</td></tr><tr><td align="left">JavaScript</td><td align="left">javascript, js, node</td><td align="left">*.js, Jakefile</td></tr><tr><td align="left">JavaScript+ERB</td><td align="left">javascript+erb</td><td align="left">*.js.erb</td></tr><tr><td align="left">Jison</td><td align="left">jison</td><td align="left">*.jison</td></tr><tr><td align="left">Jison Lex</td><td align="left">jison-lex</td><td align="left">*.jisonlex</td></tr><tr><td align="left">Jolie</td><td align="left">jolie</td><td align="left">*.ol</td></tr><tr><td align="left">Jsonnet</td><td align="left">jsonnet</td><td align="left">*.jsonnet</td></tr><tr><td align="left">Julia</td><td align="left">julia</td><td align="left">*.jl</td></tr><tr><td align="left">Jupyter Notebook</td><td align="left">jupyter-notebook</td><td align="left">*.ipynb, Notebook</td></tr><tr><td align="left">KRL</td><td align="left">krl</td><td align="left">*.krl</td></tr><tr><td align="left">KiCad Layout</td><td align="left">kicad-layout, pcbnew</td><td align="left">*.kicad_pcb, fp-lib-table</td></tr><tr><td align="left">KiCad Legacy Layout</td><td align="left">kicad-legacy-layout</td><td align="left">*.brd</td></tr><tr><td align="left">KiCad Schematic</td><td align="left">kicad-schematic</td><td align="left">*.sch</td></tr><tr><td align="left">Kit</td><td align="left">kit</td><td align="left">*.kit</td></tr><tr><td align="left">Kotlin</td><td align="left">kotlin</td><td align="left">*.kt</td></tr><tr><td align="left">LFE</td><td align="left">lfe</td><td align="left">*.lfe</td></tr><tr><td align="left">LLVM</td><td align="left">llvm</td><td align="left">*.ll</td></tr><tr><td align="left">LOLCODE</td><td align="left">lolcode</td><td align="left">*.lol</td></tr><tr><td align="left">LSL</td><td align="left">lsl</td><td align="left">*.lsl</td></tr><tr><td align="left">LTspice Symbol</td><td align="left">ltspice-symbol</td><td align="left">*.asy</td></tr><tr><td align="left">LabVIEW</td><td align="left">labview</td><td align="left">*.lvproj</td></tr><tr><td align="left">Lasso</td><td align="left">lasso, lassoscript</td><td align="left">*.lasso</td></tr><tr><td align="left">Latte</td><td align="left">latte</td><td align="left">*.latte</td></tr><tr><td align="left">Lean</td><td align="left">lean</td><td align="left">*.lean</td></tr><tr><td align="left">Less</td><td align="left">less</td><td align="left">*.less</td></tr><tr><td align="left">Lex</td><td align="left">lex, flex</td><td align="left">*.l</td></tr><tr><td align="left">LilyPond</td><td align="left">lilypond</td><td align="left">*.ly</td></tr><tr><td align="left">Limbo</td><td align="left">limbo</td><td align="left">*.b</td></tr><tr><td align="left">Linker Script</td><td align="left">linker-script</td><td align="left">*.ld, ld.script</td></tr><tr><td align="left">Linux Kernel Module</td><td align="left">linux-kernel-module</td><td align="left">*.mod</td></tr><tr><td align="left">Liquid</td><td align="left">liquid</td><td align="left">*.liquid</td></tr><tr><td align="left">Literate Agda</td><td align="left">literate-agda</td><td align="left">*.lagda</td></tr><tr><td align="left">Literate CoffeeScript</td><td align="left">literate-coffeescript, litcoffee</td><td align="left">*.litcoffee</td></tr><tr><td align="left">Literate Haskell</td><td align="left">literate-haskell, lhaskell, lhs</td><td align="left">*.lhs</td></tr><tr><td align="left">LiveScript</td><td align="left">livescript, live-script, ls</td><td align="left">*.ls, Slakefile</td></tr><tr><td align="left">Logos</td><td align="left">logos</td><td align="left">*.xm</td></tr><tr><td align="left">Logtalk</td><td align="left">logtalk</td><td align="left">*.lgt</td></tr><tr><td align="left">LookML</td><td align="left">lookml</td><td align="left">*.lookml</td></tr><tr><td align="left">LoomScript</td><td align="left">loomscript</td><td align="left">*.ls</td></tr><tr><td align="left">Lua</td><td align="left">lua</td><td align="left">*.lua, .luacheckrc</td></tr><tr><td align="left">M</td><td align="left">m, mumps</td><td align="left">*.mumps</td></tr><tr><td align="left">M4</td><td align="left">m4</td><td align="left">*.m4</td></tr><tr><td align="left">M4Sugar</td><td align="left">m4sugar, autoconf</td><td align="left">*.m4, configure.ac</td></tr><tr><td align="left">MATLAB</td><td align="left">matlab, octave</td><td align="left">*.matlab</td></tr><tr><td align="left">MAXScript</td><td align="left">maxscript</td><td align="left">*.ms</td></tr><tr><td align="left">MLIR</td><td align="left">mlir</td><td align="left">*.mlir</td></tr><tr><td align="left">MQL4</td><td align="left">mql4</td><td align="left">*.mq4</td></tr><tr><td align="left">MQL5</td><td align="left">mql5</td><td align="left">*.mq5</td></tr><tr><td align="left">MTML</td><td align="left">mtml</td><td align="left">*.mtml</td></tr><tr><td align="left">MUF</td><td align="left">muf</td><td align="left">*.muf</td></tr><tr><td align="left">Macaulay2</td><td align="left">macaulay2, m2</td><td align="left">*.m2</td></tr><tr><td align="left">Makefile</td><td align="left">makefile, bsdmake, make, mf</td><td align="left">*.mak, BSDmakefile</td></tr><tr><td align="left">Mako</td><td align="left">mako</td><td align="left">*.mako</td></tr><tr><td align="left">Markdown</td><td align="left">markdown, pandoc</td><td align="left">*.md, contents.lr</td></tr><tr><td align="left">Marko</td><td align="left">marko, markojs</td><td align="left">*.marko</td></tr><tr><td align="left">Mask</td><td align="left">mask</td><td align="left">*.mask</td></tr><tr><td align="left">Mathematica</td><td align="left">mathematica, mma</td><td align="left">*.mathematica</td></tr><tr><td align="left">Maven POM</td><td align="left">maven-pom</td><td align="left">pom.xml</td></tr><tr><td align="left">Max</td><td align="left">max, max/msp, maxmsp</td><td align="left">*.maxpat</td></tr><tr><td align="left">MediaWiki</td><td align="left">mediawiki</td><td align="left">*.mediawiki</td></tr><tr><td align="left">Mercury</td><td align="left">mercury</td><td align="left">*.m</td></tr><tr><td align="left">Meson</td><td align="left">meson</td><td align="left">meson.build</td></tr><tr><td align="left">Metal</td><td align="left">metal</td><td align="left">*.metal</td></tr><tr><td align="left">Microsoft Developer Studio Project</td><td align="left">microsoft-developer-studio-project</td><td align="left">*.dsp</td></tr><tr><td align="left">MiniD</td><td align="left">minid</td><td align="left">*.minid</td></tr><tr><td align="left">Mirah</td><td align="left">mirah</td><td align="left">*.druby</td></tr><tr><td align="left">Modelica</td><td align="left">modelica</td><td align="left">*.mo</td></tr><tr><td align="left">Modula-2</td><td align="left">modula-2</td><td align="left">*.mod</td></tr><tr><td align="left">Modula-3</td><td align="left">modula-3</td><td align="left">*.i3</td></tr><tr><td align="left">Module Management System</td><td align="left">module-management-system</td><td align="left">*.mms, descrip.mmk</td></tr><tr><td align="left">Monkey</td><td align="left">monkey</td><td align="left">*.monkey</td></tr><tr><td align="left">Moocode</td><td align="left">moocode</td><td align="left">*.moo</td></tr><tr><td align="left">MoonScript</td><td align="left">moonscript</td><td align="left">*.moon</td></tr><tr><td align="left">Motorola 68K Assembly</td><td align="left">motorola-68k-assembly, m68k</td><td align="left">*.asm</td></tr><tr><td align="left">Muse</td><td align="left">muse, amusewiki</td><td align="left">*.muse</td></tr><tr><td align="left">Myghty</td><td align="left">myghty</td><td align="left">*.myt</td></tr><tr><td align="left">NASL</td><td align="left">nasl</td><td align="left">*.nasl</td></tr><tr><td align="left">NCL</td><td align="left">ncl</td><td align="left">*.ncl</td></tr><tr><td align="left">NEON</td><td align="left">neon, ne-on</td><td align="left">*.neon</td></tr><tr><td align="left">NL</td><td align="left">nl</td><td align="left">*.nl</td></tr><tr><td align="left">NPM Config</td><td align="left">npm-config, npmrc</td><td align="left">.npmrc</td></tr><tr><td align="left">NSIS</td><td align="left">nsis</td><td align="left">*.nsi</td></tr><tr><td align="left">Nearley</td><td align="left">nearley</td><td align="left">*.ne</td></tr><tr><td align="left">Nemerle</td><td align="left">nemerle</td><td align="left">*.n</td></tr><tr><td align="left">NetLinx</td><td align="left">netlinx</td><td align="left">*.axs</td></tr><tr><td align="left">NetLinx+ERB</td><td align="left">netlinx+erb</td><td align="left">*.axs.erb</td></tr><tr><td align="left">NetLogo</td><td align="left">netlogo</td><td align="left">*.nlogo</td></tr><tr><td align="left">NewLisp</td><td align="left">newlisp</td><td align="left">*.nl</td></tr><tr><td align="left">Nextflow</td><td align="left">nextflow</td><td align="left">*.nf, nextflow.config</td></tr><tr><td align="left">Nginx</td><td align="left">nginx</td><td align="left">*.nginxconf, nginx.conf</td></tr><tr><td align="left">Nim</td><td align="left">nim</td><td align="left">*.nim, nim.cfg</td></tr><tr><td align="left">Ninja</td><td align="left">ninja</td><td align="left">*.ninja</td></tr><tr><td align="left">Nit</td><td align="left">nit</td><td align="left">*.nit</td></tr><tr><td align="left">Nix</td><td align="left">nix, nixos</td><td align="left">*.nix</td></tr><tr><td align="left">Nu</td><td align="left">nu, nush</td><td align="left">*.nu, Nukefile</td></tr><tr><td align="left">NumPy</td><td align="left">numpy</td><td align="left">*.numpy</td></tr><tr><td align="left">OCaml</td><td align="left">ocaml</td><td align="left">*.ml</td></tr><tr><td align="left">ObjDump</td><td align="left">objdump</td><td align="left">*.objdump</td></tr><tr><td align="left">Object Data Instance Notation</td><td align="left">object-data-instance-notation</td><td align="left">*.odin</td></tr><tr><td align="left">ObjectScript</td><td align="left">objectscript</td><td align="left">*.cls</td></tr><tr><td align="left">Objective-C</td><td align="left">objective-c, obj-c, objc, objectivec</td><td align="left">*.m</td></tr><tr><td align="left">Objective-C++</td><td align="left">objective-c++, obj-c++, objc++, objectivec++</td><td align="left">*.mm</td></tr><tr><td align="left">Objective-J</td><td align="left">objective-j, obj-j, objectivej, objj</td><td align="left">*.j</td></tr><tr><td align="left">Odin</td><td align="left">odin, odinlang, odin-lang</td><td align="left">*.odin</td></tr><tr><td align="left">Omgrofl</td><td align="left">omgrofl</td><td align="left">*.omgrofl</td></tr><tr><td align="left">Opa</td><td align="left">opa</td><td align="left">*.opa</td></tr><tr><td align="left">Opal</td><td align="left">opal</td><td align="left">*.opal</td></tr><tr><td align="left">Open Policy Agent</td><td align="left">open-policy-agent</td><td align="left">*.rego</td></tr><tr><td align="left">OpenCL</td><td align="left">opencl</td><td align="left">*.cl</td></tr><tr><td align="left">OpenEdge ABL</td><td align="left">openedge-abl, progress, openedge, abl</td><td align="left">*.p</td></tr><tr><td align="left">OpenQASM</td><td align="left">openqasm</td><td align="left">*.qasm</td></tr><tr><td align="left">OpenRC runscript</td><td align="left">openrc-runscript, openrc</td><td align="left"></td></tr><tr><td align="left">OpenSCAD</td><td align="left">openscad</td><td align="left">*.scad</td></tr><tr><td align="left">OpenStep Property List</td><td align="left">openstep-property-list</td><td align="left">*.plist</td></tr><tr><td align="left">OpenType Feature File</td><td align="left">opentype-feature-file, AFDKO</td><td align="left">*.fea</td></tr><tr><td align="left">Org</td><td align="left">org</td><td align="left">*.org</td></tr><tr><td align="left">Ox</td><td align="left">ox</td><td align="left">*.ox</td></tr><tr><td align="left">Oxygene</td><td align="left">oxygene</td><td align="left">*.oxygene</td></tr><tr><td align="left">Oz</td><td align="left">oz</td><td align="left">*.oz</td></tr><tr><td align="left">P4</td><td align="left">p4</td><td align="left">*.p4</td></tr><tr><td align="left">PHP</td><td align="left">php, inc</td><td align="left">*.php, .php</td></tr><tr><td align="left">PLSQL</td><td align="left">plsql</td><td align="left">*.pls</td></tr><tr><td align="left">PLpgSQL</td><td align="left">plpgsql</td><td align="left">*.pgsql</td></tr><tr><td align="left">POV-Ray SDL</td><td align="left">pov-ray-sdl, pov-ray, povray</td><td align="left">*.pov</td></tr><tr><td align="left">Pan</td><td align="left">pan</td><td align="left">*.pan</td></tr><tr><td align="left">Papyrus</td><td align="left">papyrus</td><td align="left">*.psc</td></tr><tr><td align="left">Parrot</td><td align="left">parrot</td><td align="left">*.parrot</td></tr><tr><td align="left">Parrot Assembly</td><td align="left">parrot-assembly, pasm</td><td align="left">*.pasm</td></tr><tr><td align="left">Parrot Internal Representation</td><td align="left">parrot-internal-representation, pir</td><td align="left">*.pir</td></tr><tr><td align="left">Pascal</td><td align="left">pascal</td><td align="left">*.pas</td></tr><tr><td align="left">Pawn</td><td align="left">pawn</td><td align="left">*.pwn</td></tr><tr><td align="left">Pep8</td><td align="left">pep8</td><td align="left">*.pep</td></tr><tr><td align="left">Perl</td><td align="left">perl, cperl</td><td align="left">*.pl, Makefile.PL</td></tr><tr><td align="left">Pic</td><td align="left">pic</td><td align="left">*.pic</td></tr><tr><td align="left">Pickle</td><td align="left">pickle</td><td align="left">*.pkl</td></tr><tr><td align="left">PicoLisp</td><td align="left">picolisp</td><td align="left">*.l</td></tr><tr><td align="left">PigLatin</td><td align="left">piglatin</td><td align="left">*.pig</td></tr><tr><td align="left">Pike</td><td align="left">pike</td><td align="left">*.pike</td></tr><tr><td align="left">PlantUML</td><td align="left">plantuml</td><td align="left">*.puml</td></tr><tr><td align="left">Pod</td><td align="left">pod</td><td align="left">*.pod</td></tr><tr><td align="left">Pod 6</td><td align="left">pod-6</td><td align="left">*.pod</td></tr><tr><td align="left">PogoScript</td><td align="left">pogoscript</td><td align="left">*.pogo</td></tr><tr><td align="left">Pony</td><td align="left">pony</td><td align="left">*.pony</td></tr><tr><td align="left">PostCSS</td><td align="left">postcss</td><td align="left">*.pcss</td></tr><tr><td align="left">PostScript</td><td align="left">postscript, postscr</td><td align="left">*.ps</td></tr><tr><td align="left">PowerBuilder</td><td align="left">powerbuilder</td><td align="left">*.pbt</td></tr><tr><td align="left">PowerShell</td><td align="left">powershell, posh, pwsh</td><td align="left">*.ps1</td></tr><tr><td align="left">Prisma</td><td align="left">prisma</td><td align="left">*.prisma</td></tr><tr><td align="left">Processing</td><td align="left">processing</td><td align="left">*.pde</td></tr><tr><td align="left">Proguard</td><td align="left">proguard</td><td align="left">*.pro</td></tr><tr><td align="left">Prolog</td><td align="left">prolog</td><td align="left">*.pl</td></tr><tr><td align="left">Propeller Spin</td><td align="left">propeller-spin</td><td align="left">*.spin</td></tr><tr><td align="left">Protocol Buffer</td><td align="left">protocol-buffer, protobuf</td><td align="left">*.proto</td></tr><tr><td align="left">Public Key</td><td align="left">public-key</td><td align="left">*.asc</td></tr><tr><td align="left">Pug</td><td align="left">pug</td><td align="left">*.jade</td></tr><tr><td align="left">Puppet</td><td align="left">puppet</td><td align="left">*.pp, Modulefile</td></tr><tr><td align="left">Pure Data</td><td align="left">pure-data</td><td align="left">*.pd</td></tr><tr><td align="left">PureBasic</td><td align="left">purebasic</td><td align="left">*.pb</td></tr><tr><td align="left">PureScript</td><td align="left">purescript</td><td align="left">*.purs</td></tr><tr><td align="left">Python</td><td align="left">python, python3, rusthon</td><td align="left">*.py, .gclient</td></tr><tr><td align="left">Python console</td><td align="left">python-console, pycon</td><td align="left"></td></tr><tr><td align="left">Python traceback</td><td align="left">python-traceback</td><td align="left">*.pytb</td></tr><tr><td align="left">QML</td><td align="left">qml</td><td align="left">*.qml</td></tr><tr><td align="left">QMake</td><td align="left">qmake</td><td align="left">*.pro</td></tr><tr><td align="left">Quake</td><td align="left">quake</td><td align="left">m3makefile</td></tr><tr><td align="left">R</td><td align="left">r, R, Rscript, splus</td><td align="left">*.r, .Rprofile</td></tr><tr><td align="left">RAML</td><td align="left">raml</td><td align="left">*.raml</td></tr><tr><td align="left">RDoc</td><td align="left">rdoc</td><td align="left">*.rdoc</td></tr><tr><td align="left">REALbasic</td><td align="left">realbasic</td><td align="left">*.rbbas</td></tr><tr><td align="left">REXX</td><td align="left">rexx, arexx</td><td align="left">*.rexx</td></tr><tr><td align="left">RHTML</td><td align="left">rhtml, html+ruby</td><td align="left">*.rhtml</td></tr><tr><td align="left">RMarkdown</td><td align="left">rmarkdown</td><td align="left">*.rmd</td></tr><tr><td align="left">RPC</td><td align="left">rpc, rpcgen, oncrpc, xdr</td><td align="left">*.x</td></tr><tr><td align="left">RPM Spec</td><td align="left">rpm-spec, specfile</td><td align="left">*.spec</td></tr><tr><td align="left">RUNOFF</td><td align="left">runoff</td><td align="left">*.rnh</td></tr><tr><td align="left">Racket</td><td align="left">racket</td><td align="left">*.rkt</td></tr><tr><td align="left">Ragel</td><td align="left">ragel, ragel-rb, ragel-ruby</td><td align="left">*.rl</td></tr><tr><td align="left">Raku</td><td align="left">raku, perl6, perl-6</td><td align="left">*.6pl</td></tr><tr><td align="left">Rascal</td><td align="left">rascal</td><td align="left">*.rsc</td></tr><tr><td align="left">Raw token data</td><td align="left">raw-token-data, raw</td><td align="left">*.raw</td></tr><tr><td align="left">Readline Config</td><td align="left">readline-config, inputrc, readline</td><td align="left">.inputrc</td></tr><tr><td align="left">Reason</td><td align="left">reason</td><td align="left">*.re</td></tr><tr><td align="left">Rebol</td><td align="left">rebol</td><td align="left">*.reb</td></tr><tr><td align="left">Red</td><td align="left">red, red/system</td><td align="left">*.red</td></tr><tr><td align="left">Redcode</td><td align="left">redcode</td><td align="left">*.cw</td></tr><tr><td align="left">Regular Expression</td><td align="left">regular-expression, regexp, regex</td><td align="left">*.regexp</td></tr><tr><td align="left">Ren’Py</td><td align="left">ren’py, renpy</td><td align="left">*.rpy</td></tr><tr><td align="left">RenderScript</td><td align="left">renderscript</td><td align="left">*.rs</td></tr><tr><td align="left">Rich Text Format</td><td align="left">rich-text-format</td><td align="left">*.rtf</td></tr><tr><td align="left">Ring</td><td align="left">ring</td><td align="left">*.ring</td></tr><tr><td align="left">Riot</td><td align="left">riot</td><td align="left">*.riot</td></tr><tr><td align="left">RobotFramework</td><td align="left">robotframework</td><td align="left">*.robot</td></tr><tr><td align="left">Roff</td><td align="left">roff, groff, mdoc, nroff, troff</td><td align="left">*.roff, eqnrc</td></tr><tr><td align="left">Roff Manpage</td><td align="left">roff-manpage</td><td align="left">*.1</td></tr><tr><td align="left">Rouge</td><td align="left">rouge</td><td align="left">*.rg</td></tr><tr><td align="left">Ruby</td><td align="left">ruby, jruby, macruby, rake, rb, rbx</td><td align="left">*.rb, .irbrc</td></tr><tr><td align="left">Rust</td><td align="left">rust</td><td align="left">*.rs</td></tr><tr><td align="left">SAS</td><td align="left">sas</td><td align="left">*.sas</td></tr><tr><td align="left">SCSS</td><td align="left">scss</td><td align="left">*.scss</td></tr><tr><td align="left">SMT</td><td align="left">smt</td><td align="left">*.smt2</td></tr><tr><td align="left">SPARQL</td><td align="left">sparql</td><td align="left">*.sparql</td></tr><tr><td align="left">SQF</td><td align="left">sqf</td><td align="left">*.sqf</td></tr><tr><td align="left">SQL</td><td align="left">sql</td><td align="left">*.sql</td></tr><tr><td align="left">SQLPL</td><td align="left">sqlpl</td><td align="left">*.sql</td></tr><tr><td align="left">SRecode Template</td><td align="left">srecode-template</td><td align="left">*.srt</td></tr><tr><td align="left">SSH Config</td><td align="left">ssh-config</td><td align="left">ssh-config</td></tr><tr><td align="left">STON</td><td align="left">ston</td><td align="left">*.ston</td></tr><tr><td align="left">SVG</td><td align="left">svg</td><td align="left">*.svg</td></tr><tr><td align="left">SWIG</td><td align="left">swig</td><td align="left">*.i</td></tr><tr><td align="left">Sage</td><td align="left">sage</td><td align="left">*.sage</td></tr><tr><td align="left">SaltStack</td><td align="left">saltstack, saltstate, salt</td><td align="left">*.sls</td></tr><tr><td align="left">Sass</td><td align="left">sass</td><td align="left">*.sass</td></tr><tr><td align="left">Scala</td><td align="left">scala</td><td align="left">*.scala</td></tr><tr><td align="left">Scaml</td><td align="left">scaml</td><td align="left">*.scaml</td></tr><tr><td align="left">Scheme</td><td align="left">scheme</td><td align="left">*.scm</td></tr><tr><td align="left">Scilab</td><td align="left">scilab</td><td align="left">*.sci</td></tr><tr><td align="left">Self</td><td align="left">self</td><td align="left">*.self</td></tr><tr><td align="left">ShaderLab</td><td align="left">shaderlab</td><td align="left">*.shader</td></tr><tr><td align="left">Shell</td><td align="left">shell, sh, shell-script, bash, zsh</td><td align="left">*.sh, .bash_aliases</td></tr><tr><td align="left">ShellSession</td><td align="left">shellsession, console</td><td align="left">*.sh-session</td></tr><tr><td align="left">Shen</td><td align="left">shen</td><td align="left">*.shen</td></tr><tr><td align="left">Sieve</td><td align="left">sieve</td><td align="left">*.sieve</td></tr><tr><td align="left">Slash</td><td align="left">slash</td><td align="left">*.sl</td></tr><tr><td align="left">Slice</td><td align="left">slice</td><td align="left">*.ice</td></tr><tr><td align="left">Slim</td><td align="left">slim</td><td align="left">*.slim</td></tr><tr><td align="left">SmPL</td><td align="left">smpl, coccinelle</td><td align="left">*.cocci</td></tr><tr><td align="left">Smali</td><td align="left">smali</td><td align="left">*.smali</td></tr><tr><td align="left">Smalltalk</td><td align="left">smalltalk, squeak</td><td align="left">*.st</td></tr><tr><td align="left">Smarty</td><td align="left">smarty</td><td align="left">*.tpl</td></tr><tr><td align="left">Solidity</td><td align="left">solidity</td><td align="left"></td></tr><tr><td align="left">SourcePawn</td><td align="left">sourcepawn, sourcemod</td><td align="left">*.sp</td></tr><tr><td align="left">Spline Font Database</td><td align="left">spline-font-database</td><td align="left">*.sfd</td></tr><tr><td align="left">Squirrel</td><td align="left">squirrel</td><td align="left">*.nut</td></tr><tr><td align="left">Stan</td><td align="left">stan</td><td align="left">*.stan</td></tr><tr><td align="left">Standard ML</td><td align="left">standard-ml, sml</td><td align="left">*.ML</td></tr><tr><td align="left">Starlark</td><td align="left">starlark, bazel, bzl</td><td align="left">*.bzl, BUCK</td></tr><tr><td align="left">Stata</td><td align="left">stata</td><td align="left">*.do</td></tr><tr><td align="left">Stylus</td><td align="left">stylus</td><td align="left">*.styl</td></tr><tr><td align="left">SubRip Text</td><td align="left">subrip-text</td><td align="left">*.srt</td></tr><tr><td align="left">SugarSS</td><td align="left">sugarss</td><td align="left">*.sss</td></tr><tr><td align="left">SuperCollider</td><td align="left">supercollider</td><td align="left">*.sc</td></tr><tr><td align="left">Svelte</td><td align="left">svelte</td><td align="left">*.svelte</td></tr><tr><td align="left">Swift</td><td align="left">swift</td><td align="left">*.swift</td></tr><tr><td align="left">SystemVerilog</td><td align="left">systemverilog</td><td align="left">*.sv</td></tr><tr><td align="left">TI Program</td><td align="left">ti-program</td><td align="left">*.8xp</td></tr><tr><td align="left">TLA</td><td align="left">tla</td><td align="left">*.tla</td></tr><tr><td align="left">TOML</td><td align="left">toml</td><td align="left">*.toml, Cargo.lock</td></tr><tr><td align="left">TSQL</td><td align="left">tsql</td><td align="left">*.sql</td></tr><tr><td align="left">TSX</td><td align="left">tsx</td><td align="left">*.tsx</td></tr><tr><td align="left">TXL</td><td align="left">txl</td><td align="left">*.txl</td></tr><tr><td align="left">Tcl</td><td align="left">tcl</td><td align="left">*.tcl, owh</td></tr><tr><td align="left">Tcsh</td><td align="left">tcsh</td><td align="left">*.tcsh</td></tr><tr><td align="left">TeX</td><td align="left">tex, latex</td><td align="left">*.tex</td></tr><tr><td align="left">Tea</td><td align="left">tea</td><td align="left">*.tea</td></tr><tr><td align="left">Terra</td><td align="left">terra</td><td align="left">*.t</td></tr><tr><td align="left">Texinfo</td><td align="left">texinfo</td><td align="left">*.texinfo</td></tr><tr><td align="left">Text</td><td align="left">text, fundamental</td><td align="left">*.txt, COPYING</td></tr><tr><td align="left">Textile</td><td align="left">textile</td><td align="left">*.textile</td></tr><tr><td align="left">Thrift</td><td align="left">thrift</td><td align="left">*.thrift</td></tr><tr><td align="left">Turing</td><td align="left">turing</td><td align="left">*.t</td></tr><tr><td align="left">Turtle</td><td align="left">turtle</td><td align="left">*.ttl</td></tr><tr><td align="left">Twig</td><td align="left">twig</td><td align="left">*.twig</td></tr><tr><td align="left">Type Language</td><td align="left">type-language, tl</td><td align="left">*.tl</td></tr><tr><td align="left">TypeScript</td><td align="left">typescript, ts</td><td align="left">*.ts</td></tr><tr><td align="left">Unified Parallel C</td><td align="left">unified-parallel-c</td><td align="left">*.upc</td></tr><tr><td align="left">Unity3D Asset</td><td align="left">unity3d-asset</td><td align="left">*.anim</td></tr><tr><td align="left">Unix Assembly</td><td align="left">unix-assembly</td><td align="left">*.s</td></tr><tr><td align="left">Uno</td><td align="left">uno</td><td align="left">*.uno</td></tr><tr><td align="left">UnrealScript</td><td align="left">unrealscript</td><td align="left">*.uc</td></tr><tr><td align="left">UrWeb</td><td align="left">urweb, Ur/Web, Ur</td><td align="left">*.ur</td></tr><tr><td align="left">V</td><td align="left">v, vlang</td><td align="left">*.v</td></tr><tr><td align="left">VBA</td><td align="left">vba, vb6</td><td align="left">*.bas</td></tr><tr><td align="left">VBScript</td><td align="left">vbscript</td><td align="left">*.vbs</td></tr><tr><td align="left">VCL</td><td align="left">vcl</td><td align="left">*.vcl</td></tr><tr><td align="left">VHDL</td><td align="left">vhdl</td><td align="left">*.vhdl</td></tr><tr><td align="left">Vala</td><td align="left">vala</td><td align="left">*.vala</td></tr><tr><td align="left">Verilog</td><td align="left">verilog</td><td align="left">*.v</td></tr><tr><td align="left">Vim Snippet</td><td align="left">vim-snippet, SnipMate, UltiSnip, NeoSnippet</td><td align="left">*.snip</td></tr><tr><td align="left">Vim script</td><td align="left">vim-script, vim, viml, nvim</td><td align="left">*.vim, .gvimrc</td></tr><tr><td align="left">Visual Basic .NET</td><td align="left">vbnet, vb.net</td><td align="left">*.vb</td></tr><tr><td align="left">Volt</td><td align="left">volt</td><td align="left">*.volt</td></tr><tr><td align="left">Vue</td><td align="left">vue</td><td align="left">*.vue</td></tr><tr><td align="left">Wavefront Material</td><td align="left">wavefront-material</td><td align="left">*.mtl</td></tr><tr><td align="left">Wavefront Object</td><td align="left">wavefront-object</td><td align="left">*.obj</td></tr><tr><td align="left">Web Ontology Language</td><td align="left">web-ontology-language</td><td align="left">*.owl</td></tr><tr><td align="left">WebAssembly</td><td align="left">webassembly, wast, wasm</td><td align="left">*.wast</td></tr><tr><td align="left">WebIDL</td><td align="left">webidl</td><td align="left">*.webidl</td></tr><tr><td align="left">WebVTT</td><td align="left">webvtt</td><td align="left">*.vtt</td></tr><tr><td align="left">Wget Config</td><td align="left">wget-config, wgetrc</td><td align="left">.wgetrc</td></tr><tr><td align="left">Windows Registry Entries</td><td align="left">windows-registry-entries</td><td align="left">*.reg</td></tr><tr><td align="left">Wollok</td><td align="left">wollok</td><td align="left">*.wlk</td></tr><tr><td align="left">World of Warcraft Addon Data</td><td align="left">world-of-warcraft-addon-data</td><td align="left">*.toc</td></tr><tr><td align="left">X BitMap</td><td align="left">x-bitmap, xbm</td><td align="left">*.xbm</td></tr><tr><td align="left">X Font Directory Index</td><td align="left">x-font-directory-index</td><td align="left">encodings.dir</td></tr><tr><td align="left">X PixMap</td><td align="left">x-pixmap, xpm</td><td align="left">*.xpm</td></tr><tr><td align="left">X10</td><td align="left">x10, xten</td><td align="left">*.x10</td></tr><tr><td align="left">XC</td><td align="left">xc</td><td align="left">*.xc</td></tr><tr><td align="left">XCompose</td><td align="left">xcompose</td><td align="left">.XCompose</td></tr><tr><td align="left">XML</td><td align="left">xml, rss, xsd, wsdl</td><td align="left">*.xml, .classpath</td></tr><tr><td align="left">XML Property List</td><td align="left">xml-property-list</td><td align="left">*.plist</td></tr><tr><td align="left">XPages</td><td align="left">xpages</td><td align="left">*.xsp-config</td></tr><tr><td align="left">XProc</td><td align="left">xproc</td><td align="left">*.xpl</td></tr><tr><td align="left">XQuery</td><td align="left">xquery</td><td align="left">*.xquery</td></tr><tr><td align="left">XS</td><td align="left">xs</td><td align="left">*.xs</td></tr><tr><td align="left">XSLT</td><td align="left">xslt, xsl</td><td align="left">*.xslt</td></tr><tr><td align="left">Xojo</td><td align="left">xojo</td><td align="left">*.xojo_code</td></tr><tr><td align="left">Xtend</td><td align="left">xtend</td><td align="left">*.xtend</td></tr><tr><td align="left">YAML</td><td align="left">yaml, yml</td><td align="left">*.yml, .clang-format</td></tr><tr><td align="left">YANG</td><td align="left">yang</td><td align="left">*.yang</td></tr><tr><td align="left">YARA</td><td align="left">yara</td><td align="left">*.yar</td></tr><tr><td align="left">YASnippet</td><td align="left">yasnippet, snippet, yas</td><td align="left">*.yasnippet</td></tr><tr><td align="left">Yacc</td><td align="left">yacc</td><td align="left">*.y</td></tr><tr><td align="left">ZAP</td><td align="left">zap</td><td align="left">*.zap</td></tr><tr><td align="left">ZIL</td><td align="left">zil</td><td align="left">*.zil</td></tr><tr><td align="left">Zeek</td><td align="left">zeek, bro</td><td align="left">*.zeek</td></tr><tr><td align="left">ZenScript</td><td align="left">zenscript</td><td align="left">*.zs</td></tr><tr><td align="left">Zephir</td><td align="left">zephir</td><td align="left">*.zep</td></tr><tr><td align="left">Zig</td><td align="left">zig</td><td align="left">*.zig</td></tr><tr><td align="left">Zimpl</td><td align="left">zimpl</td><td align="left">*.zimpl</td></tr><tr><td align="left">cURL Config</td><td align="left">curl-config, curlrc</td><td align="left">.curlrc</td></tr><tr><td align="left">desktop</td><td align="left">desktop</td><td align="left">*.desktop</td></tr><tr><td align="left">dircolors</td><td align="left">dircolors</td><td align="left">*.dircolors, .dir_colors</td></tr><tr><td align="left">eC</td><td align="left">ec</td><td align="left">*.ec</td></tr><tr><td align="left">edn</td><td align="left">edn</td><td align="left">*.edn</td></tr><tr><td align="left">fish</td><td align="left">fish</td><td align="left">*.fish</td></tr><tr><td align="left">mIRC Script</td><td align="left">mirc-script</td><td align="left">*.mrc</td></tr><tr><td align="left">mcfunction</td><td align="left">mcfunction</td><td align="left">*.mcfunction</td></tr><tr><td align="left">mupad</td><td align="left">mupad</td><td align="left">*.mu</td></tr><tr><td align="left">nanorc</td><td align="left">nanorc</td><td align="left">*.nanorc, .nanorc</td></tr><tr><td align="left">nesC</td><td align="left">nesc</td><td align="left">*.nc</td></tr><tr><td align="left">ooc</td><td align="left">ooc</td><td align="left">*.ooc</td></tr><tr><td align="left">q</td><td align="left">q</td><td align="left">*.q</td></tr><tr><td align="left">reStructuredText</td><td align="left">restructuredtext, rst</td><td align="left">*.rst</td></tr><tr><td align="left">sed</td><td align="left">sed</td><td align="left">*.sed</td></tr><tr><td align="left">wdl</td><td align="left">wdl</td><td align="left">*.wdl</td></tr><tr><td align="left">wisp</td><td align="left">wisp</td><td align="left">*.wisp</td></tr><tr><td align="left">xBase</td><td align="left">xbase, advpl, clipper, foxpro</td><td align="left">*.prg</td></tr></tbody></table>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://image.zoutl.cn/hexo-blog/images/homeBlogImage/73.jpg&quot; alt=&quot;img&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="其它" scheme="http://example.com/categories/%E5%85%B6%E5%AE%83/"/>
    
    
    <category term="Markdown" scheme="http://example.com/tags/Markdown/"/>
    
  </entry>
  
  <entry>
    <title>使用Feign</title>
    <link href="http://example.com/272.html"/>
    <id>http://example.com/272.html</id>
    <published>2021-08-12T18:56:09.000Z</published>
    <updated>2021-08-13T08:05:42.125Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Feign简介"><a href="#Feign简介" class="headerlink" title="Feign简介"></a>Feign简介</h3><p>Feign是一个声明式的Web Service客户端，它使得编写Web Serivce客户端变得更加简单。我们只需要使用Feign来创建一个接口并用注解来配置它既可完成。它具备可插拔的注解支持，包括Feign注解和JAX-RS注解。Feign也支持可插拔的编码器和解码器。Spring Cloud为Feign增加了对Spring MVC注解的支持，还整合了Ribbon和Eureka来提供均衡负载的HTTP客户端实现。</p><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><h4 id="修改公共模块项目"><a href="#修改公共模块项目" class="headerlink" title="修改公共模块项目"></a>修改公共模块项目</h4><p>公共模块项目名称为： microservice-common </p><p>pom.xml引入Feign依赖：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-feign<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>新建StudentClientService接口（新建一个service包并存放在里面），加入<font color="#dd0000">@FeignClient(value = “MICROSERVICE-STUDENT”)</font>注解定义FeignClient并指定调用的服务名称MICROSERVICE-STUDENT</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ledao.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.ledao.entity.Student;</span><br><span class="line"><span class="keyword">import</span> org.springframework.cloud.netflix.feign.FeignClient;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.PathVariable;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Student Feign接口客户端</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> LeDao</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@company</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021-08-13 3:13</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@FeignClient(value = &quot;MICROSERVICE-STUDENT&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">StudentClientService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 根据id查询学生信息</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> id</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/student/get/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="function">Student <span class="title">get</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> Integer id)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 查询学生信息</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/student/list&quot;)</span></span><br><span class="line">    <span class="function">List&lt;Student&gt; <span class="title">list</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 添加或者修改学生信息</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> student</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/student/save&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">save</span><span class="params">(Student student)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 根据id删除学生信息</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> id</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/student/delete/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">delete</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> Integer id)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="新建Feign消费者项目"><a href="#新建Feign消费者项目" class="headerlink" title="新建Feign消费者项目"></a>新建Feign消费者项目</h4><p>新建一个Module，命名为：microservice-student-consumer-feign-80</p><p>将microservice-student-consumer-80消费者项目的文件都复制到新建的Feign消费者项目，将pom.xml引入的依赖也全部复制过去并引入feign依赖：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-feign<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>修改启动类</p><p>启动类如果也复制了过来，就重命名为：StudentConsumerFeignApplication_80，并添加注解：<font color="#dd0000">@EnableFeignClients</font></p><p>修改Controller</p><p>因为现在用Fiegn，所以把restTemplate去掉，改成注入service，调用service方法来实现服务的调用</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ledao.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.ledao.entity.Student;</span><br><span class="line"><span class="keyword">import</span> com.ledao.service.StudentClientService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.PathVariable;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.client.RestClientException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.Resource;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Feign服务消费者-学生信息控制器</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> LeDao</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@company</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021-08-11 14:48</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/student&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StudentConsumerFeignController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> StudentClientService studentClientService;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 添加或者修改学生信息</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> student</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;save&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">save</span><span class="params">(Student student)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> studentClientService.save(student);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 查询所有学生信息</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@SuppressWarnings(&quot;unchecked&quot;)</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/list&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Student&gt; <span class="title">list</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> studentClientService.list();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 根据id查询学生信息</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> id</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/get/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Student <span class="title">get</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> Integer id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> studentClientService.get(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 根据id删除学生信息</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> id</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/delete/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">delete</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> Integer id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            studentClientService.delete(id);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (RestClientException e) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h3><p>启动三个Eureka服务注册中心和三个提供者服务，在启动上面新建的Feign消费者项目，然后地址栏输入：<a href="http://localhost/student/list">http://localhost/student/list</a> ，如果看到返回的学生列表说明Feign配置成功</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://image.zoutl.cn/hexo-blog/images/homeBlogImage/26.jpg&quot; alt=&quot;img&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Spring Cloud" scheme="http://example.com/categories/Spring-Cloud/"/>
    
    
    <category term="Spring Cloud" scheme="http://example.com/tags/Spring-Cloud/"/>
    
    <category term="Feign" scheme="http://example.com/tags/Feign/"/>
    
  </entry>
  
  <entry>
    <title>Ribbon策略</title>
    <link href="http://example.com/271.html"/>
    <id>http://example.com/271.html</id>
    <published>2021-08-11T17:53:57.000Z</published>
    <updated>2021-08-13T08:05:37.668Z</updated>
    
    <content type="html"><![CDATA[<h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><p>Ribbon默认的策略是轮询策略，这种默认的轮询策略肯定是不能满足实际需求的，比如有3个服务提供者，突然挂了一个，这样的话，默认轮询 ，总有1/3的概率访问失败，会出现下面的错误，所以需要选择合适的策略</p><p><img src="https://image.zoutl.cn/hexo-blog/blogImage/2021-08-12%20033945.png"></p><h3 id="策略大全"><a href="#策略大全" class="headerlink" title="策略大全"></a>策略大全</h3><table><thead><tr><th align="left">策略名</th><th>策略声明</th><th>策略描述</th><th>实现说明</th></tr></thead><tbody><tr><td align="left">BestAvailableRule</td><td>public class BestAvailableRule extends ClientConfigEnabledRoundRobinRule</td><td>选择一个最小的并发请求的server</td><td>逐个考察Server，如果Server被tripped了，则忽略，在选择其中ActiveRequestsCount最小的server</td></tr><tr><td align="left">AvailabilityFilteringRule</td><td>public class AvailabilityFilteringRule extends PredicateBasedRule</td><td>过滤掉那些因为一直连接失败的被标记为circuit tripped的后端server，并过滤掉那些高并发的的后端server（active connections 超过配置的阈值）</td><td>使用一个AvailabilityPredicate来包含过滤server的逻辑，其实就就是检查status里记录的各个server的运行状态</td></tr><tr><td align="left">WeightedResponseTimeRule</td><td>public class WeightedResponseTimeRule extends RoundRobinRule</td><td>根据响应时间分配一个weight，响应时间越长，weight越小，被选中的可能性越低。</td><td>一个后台线程定期的从status里面读取评价响应时间，为每个server计算一个weight。Weight的计算也比较简单responsetime 减去每个server自己平均的responsetime是server的权重。当刚开始运行，没有形成status时，使用roubine策略选择server。</td></tr><tr><td align="left">RetryRule</td><td>public class RetryRule extends AbstractLoadBalancerRule</td><td>对选定的负载均衡策略机上重试机制。</td><td>在一个配置时间段内当选择server不成功，则一直尝试使用subRule的方式选择一个可用的server</td></tr><tr><td align="left">RoundRobinRule</td><td>public class RoundRobinRule extends AbstractLoadBalancerRule</td><td>roundRobin方式轮询选择server</td><td>轮询index，选择index对应位置的server</td></tr><tr><td align="left">RandomRule</td><td>public class RandomRule extends AbstractLoadBalancerRule</td><td>随机选择一个server</td><td>在index上随机，选择index对应位置的server</td></tr><tr><td align="left">ZoneAvoidanceRule</td><td>public class ZoneAvoidanceRule extends PredicateBasedRule</td><td>复合判断server所在区域的性能和server的可用性选择server</td><td>使用ZoneAvoidancePredicate和AvailabilityPredicate来判断是否选择某个server，前一个判断判定一个zone的运行性能是否可用，剔除不可用的zone（的所有server），AvailabilityPredicate用于过滤掉连接数过多的Server。</td></tr></tbody></table><h3 id="使用策略"><a href="#使用策略" class="headerlink" title="使用策略"></a>使用策略</h3><p>在服务消费端 SpringCloudConfig 配置类自定义策略，用IRule实现，以实现RetryRule策略为例：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 自定义轮询算法</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> IRule <span class="title">myRule</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> RetryRule();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://image.zoutl.cn/hexo-blog/images/homeBlogImage/52.jpg&quot; alt=&quot;img&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Spring Cloud" scheme="http://example.com/categories/Spring-Cloud/"/>
    
    
    <category term="Spring Cloud" scheme="http://example.com/tags/Spring-Cloud/"/>
    
    <category term="Ribbon" scheme="http://example.com/tags/Ribbon/"/>
    
  </entry>
  
  <entry>
    <title>Ribbon负载均衡</title>
    <link href="http://example.com/270.html"/>
    <id>http://example.com/270.html</id>
    <published>2021-08-11T16:12:50.000Z</published>
    <updated>2021-08-11T19:53:38.503Z</updated>
    
    <content type="html"><![CDATA[<h3 id="新建Module"><a href="#新建Module" class="headerlink" title="新建Module"></a>新建Module</h3><p>新建两个Module，一个名称为：microservice-student-provider-1002，另一个名称为：microservice-student-provider-1003，通过三个服务提供者实现集群，然后才能演示负载均衡，以及负载均衡策略</p><h3 id="复制文件"><a href="#复制文件" class="headerlink" title="复制文件"></a>复制文件</h3><p>pom.xml，application.yml，以及java类都复制一份，启动类名称对应Module的名称的数字进行修改</p><p>yml配置文件有两处要修改：port端口和服务实例名称对应Module的名称的数字进行修改</p><p><img src="https://image.zoutl.cn/hexo-blog/blogImage/2021-08-12%20021214.png"></p><p><img src="https://image.zoutl.cn/hexo-blog/blogImage/2021-08-12%20021239.png"></p><h3 id="修改代码"><a href="#修改代码" class="headerlink" title="修改代码"></a>修改代码</h3><p>为了方便查看具体执行了哪个服务提供者，在三个服务提供者的StudentProviderController的list方法中添加一条打印语句，打印语句的数字对应Module的名称的数字进行修改</p><p><img src="https://image.zoutl.cn/hexo-blog/blogImage/2021-08-12%20021619.png"></p><h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><p>先启动三个eureka集群，再启动三个服务提供者集群</p><p>测试服务提供者：</p><p><a href="http://localhost:1001/student/list">http://localhost:1001/student/list</a></p><p><a href="http://localhost:1002/student/list">http://localhost:1002/student/list</a></p><p><a href="http://localhost:1003/student/list">http://localhost:1003/student/list</a></p><p><img src="https://image.zoutl.cn/hexo-blog/blogImage/2021-08-12%20032238.png"></p><p>测试下Eureka：</p><p><a href="http://eureka2001.ledao.com:2001/">http://eureka2001.ledao.com:2001/</a></p><p><a href="http://eureka2002.ledao.com:2002/">http://eureka2002.ledao.com:2002/</a></p><p><a href="http://eureka2003.ledao.com:2003/">http://eureka2003.ledao.com:2003/</a></p><p><img src="https://image.zoutl.cn/hexo-blog/blogImage/2021-08-12%20032132.png"></p><p>启动服务消费者：</p><p><a href="http://localhost/student/list">http://localhost/student/list</a></p><p>每刷新一次页面，就消费一次服务，消费了哪个服务就在该服务的控制台打印下面语句</p><p><img src="https://image.zoutl.cn/hexo-blog/blogImage/2021-08-12%20032830.png"></p><p><img src="https://image.zoutl.cn/hexo-blog/blogImage/2021-08-12%20032843.png"></p><p><img src="https://image.zoutl.cn/hexo-blog/blogImage/2021-08-12%20032855.png"></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://image.zoutl.cn/hexo-blog/images/homeBlogImage/62.jpg&quot; alt=&quot;img&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Spring Cloud" scheme="http://example.com/categories/Spring-Cloud/"/>
    
    
    <category term="Spring Cloud" scheme="http://example.com/tags/Spring-Cloud/"/>
    
    <category term="Ribbon" scheme="http://example.com/tags/Ribbon/"/>
    
  </entry>
  
  <entry>
    <title>Ribbon调用服务</title>
    <link href="http://example.com/269.html"/>
    <id>http://example.com/269.html</id>
    <published>2021-08-11T15:00:14.000Z</published>
    <updated>2021-08-13T12:07:11.812Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Ribbon简介"><a href="#Ribbon简介" class="headerlink" title="Ribbon简介"></a>Ribbon简介</h3><p>Ribbon是Netflix发布的负载均衡器，它有助于控制HTTP和TCP的客户端的行为。为Ribbon配置服务提供者地址后，Ribbon就可基于某种负载均衡算法，自动地帮助服务消费者去请求。Ribbon默认为我们提供了很多负载均衡算法，例如轮询、随机等。当然，我们也可为Ribbon实现自定义的负载均衡算法。</p><p>在Spring Cloud中，当Ribbon与Eureka配合使用时，Ribbon可自动从Eureka Server获取服务提供者地址列表，并基于负载均衡算法，请求其中一个服务提供者实例。下图展示了Ribbon与Eureka配合使用时的架构。</p><p><img src="https://image.zoutl.cn/hexo-blog/blogImage/2021-08-11%20222222.jpg"></p><h3 id="实现过程"><a href="#实现过程" class="headerlink" title="实现过程"></a>实现过程</h3><p>我们修改microservice-student-consumer-80子模块项目</p><h4 id="引入依赖"><a href="#引入依赖" class="headerlink" title="引入依赖"></a>引入依赖</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-eureka<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-ribbon<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-config<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="修改application-yml"><a href="#修改application-yml" class="headerlink" title="修改application.yml"></a>修改application.yml</h4><p>添加下面内容：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="attr">register-with-eureka:</span> <span class="literal">false</span> <span class="comment">#false 由于注册中心的职责就是维护服务实例，它并不需要去检索服务，所以也设置为false</span></span><br><span class="line">    <span class="attr">service-url:</span></span><br><span class="line">      <span class="attr">defaultZone:</span> <span class="string">http://eureka2001.ledao.com:2001/eureka/,http://eureka2002.ledao.com:2002/eureka/,http://eureka2003.ledao.com:2003/eureka/</span></span><br></pre></td></tr></table></figure><h4 id="添加-LoadBalanced注解"><a href="#添加-LoadBalanced注解" class="headerlink" title="添加@LoadBalanced注解"></a>添加@LoadBalanced注解</h4><p>SpringCloudConfig.java的getRestTemplate()方法上添加@LoadBalanced注解（负载均衡配置）</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ledao.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.cloud.client.loadbalancer.LoadBalanced;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.client.RestTemplate;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * SpringCloud相关配置</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> LeDao</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@company</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021-08-11 14:46</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SpringCloudConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 调用服务模版</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="meta">@LoadBalanced</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> RestTemplate <span class="title">getRestTemplate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> RestTemplate();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="添加注解-EnableEurekaClient"><a href="#添加注解-EnableEurekaClient" class="headerlink" title="添加注解@EnableEurekaClient"></a>添加注解@EnableEurekaClient</h4><p>因为和eureka整合，所以启动类StudentConsumerApplication_80 加个注解 @EnableEurekaClient</p><h4 id="指定应用名称"><a href="#指定应用名称" class="headerlink" title="指定应用名称"></a>指定应用名称</h4><p>在服务提供者microservice-student-provider-1001的application.yml以下配置（microservice-student为微服务应用名称）</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">application:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">microservice-student</span></span><br></pre></td></tr></table></figure><p>在spring配置下添加，完整spring配置如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 数据源配置</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">microservice-student</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">com.alibaba.druid.pool.DruidDataSource</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/db_springcloud?useUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=UTC</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="number">123456</span></span><br><span class="line">  <span class="attr">jpa:</span></span><br><span class="line">    <span class="attr">hibernate:</span></span><br><span class="line">      <span class="attr">ddl-auto:</span> <span class="string">update</span></span><br><span class="line">    <span class="attr">show-sql:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h4 id="修改PRE-HOST"><a href="#修改PRE-HOST" class="headerlink" title="修改PRE_HOST"></a>修改PRE_HOST</h4><p>修改服务消费者子模块项目的StudentConsumerController.java中的PRE_HOST为 <a href="http://microservice-student/">http://MICROSERVICE-STUDENT</a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String PRE_HOST = <span class="string">&quot;http://MICROSERVICE-STUDENT&quot;</span>;</span><br></pre></td></tr></table></figure><h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><p>依次运行microservice-eureka-server-2001、microservice-eureka-server-2002、microservice-eureka-server-2003、microservice-student-provider-1001、microservice-student-consumer-80子模块项目</p><p>浏览器地址栏输入：<a href="http://localhost/student/list">http://localhost/student/list</a> ，出现下面结果说明调用服务成功（下面是格式化过的JSON串）</p><p><img src="https://image.zoutl.cn/hexo-blog/blogImage/2021-08-11%20232700.png"></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://image.zoutl.cn/hexo-blog/images/homeBlogImage/72.jpg&quot; alt=&quot;img&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Spring Cloud" scheme="http://example.com/categories/Spring-Cloud/"/>
    
    
    <category term="Spring Cloud" scheme="http://example.com/tags/Spring-Cloud/"/>
    
    <category term="Eureka" scheme="http://example.com/tags/Eureka/"/>
    
    <category term="Ribbon" scheme="http://example.com/tags/Ribbon/"/>
    
  </entry>
  
  <entry>
    <title>Eureka注册中心高可用集群配置</title>
    <link href="http://example.com/268.html"/>
    <id>http://example.com/268.html</id>
    <published>2021-08-11T13:28:51.000Z</published>
    <updated>2021-08-13T12:14:04.097Z</updated>
    
    <content type="html"><![CDATA[<h3 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h3><p>当注册中心扛不住高并发时，就需要集群了</p><h3 id="新建Module"><a href="#新建Module" class="headerlink" title="新建Module"></a>新建Module</h3><p>新建两个Module，一个名称为：microservice-eureka-server-2002，另一个名称为：microservice-eureka-server-2003</p><h3 id="继承依赖"><a href="#继承依赖" class="headerlink" title="继承依赖"></a>继承依赖</h3><p>在新建的两个Module的pom.xml中添加：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--继承microservice依赖版本--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>microservice<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="添加依赖"><a href="#添加依赖" class="headerlink" title="添加依赖"></a>添加依赖</h3><p>在新建的两个Module的pom.xml中添加：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--Eureka服务--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-eureka-server<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 修改后立即生效，热部署 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springloaded<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-devtools<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="添加启动类"><a href="#添加启动类" class="headerlink" title="添加启动类"></a>添加启动类</h3><p>在新建的两个Module都添加启动类，名称分别为：EurekaServerApplication_2002和EurekaServerApplication_2003，可以直接复制EurekaServerApplication_2001.java的内容然后修改名称即可</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ledao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.cloud.netflix.eureka.server.EnableEurekaServer;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Eureka服务启动类</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> LeDao</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@company</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021-08-11 16:29</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@EnableEurekaServer</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EurekaApplication_2001</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(EurekaApplication_2001.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="配置本机host"><a href="#配置本机host" class="headerlink" title="配置本机host"></a>配置本机host</h3><p>前面单机的时候 eureka注册中心实例名称 是localhost，现在是集群，不能三个实例都是localhost，这里复杂的办法是搞三个虚拟机，比较麻烦，这里有简单办法，直接配置本机hosts，来实现本机域名映射；</p><p>找到 C:\Windows\System32\drivers\etc 打开hosts，加配置：</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">127.0</span>.<span class="number">0.1</span>  eureka2001.ledao.com</span><br><span class="line"><span class="number">127.0</span>.<span class="number">0.1</span>  eureka2002.ledao.com</span><br><span class="line"><span class="number">127.0</span>.<span class="number">0.1</span>  eureka2003.ledao.com</span><br></pre></td></tr></table></figure><h3 id="修改application-yml"><a href="#修改application-yml" class="headerlink" title="修改application.yml"></a>修改application.yml</h3><p>修改三个项目的application.yml文件，主要是修改 hostname和defaultZone</p><p>microservice-eureka-server-<strong>2001</strong>的application.yml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">2001</span></span><br><span class="line">  <span class="attr">context-path:</span> <span class="string">/</span></span><br><span class="line"></span><br><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">instance:</span></span><br><span class="line">    <span class="comment"># hostname: localhost #eureka注册中心实例名称 单机</span></span><br><span class="line">    <span class="attr">hostname:</span> <span class="string">eureka2001.ledao.com</span> <span class="comment"># 集群</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="attr">register-with-eureka:</span> <span class="literal">false</span>     <span class="comment">#false 由于该应用为注册中心，所以设置为false,代表不向注册中心注册自己。</span></span><br><span class="line">    <span class="attr">fetch-registry:</span> <span class="literal">false</span>     <span class="comment">#false 由于注册中心的职责就是维护服务实例，它并不需要去检索服务，所以也设置为false</span></span><br><span class="line">    <span class="attr">service-url:</span></span><br><span class="line">      <span class="attr">defaultZone:</span> <span class="string">http://eureka2002.ledao.com:2002/eureka/,http://eureka2003.ledao.com:2003/eureka/</span> <span class="comment"># 集群</span></span><br><span class="line">      <span class="comment">#单机defaultZone: http://$&#123;eureka.instance.hostname&#125;:$&#123;server.port&#125;/eureka/       #设置与Eureka注册中心交互的地址，查询服务和注册服务用到</span></span><br></pre></td></tr></table></figure><p>microservice-eureka-server-<strong>2002</strong>的application.yml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">2002</span></span><br><span class="line">  <span class="attr">context-path:</span> <span class="string">/</span></span><br><span class="line"></span><br><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">instance:</span></span><br><span class="line">    <span class="comment"># hostname: localhost #eureka注册中心实例名称 单机</span></span><br><span class="line">    <span class="attr">hostname:</span> <span class="string">eureka2002.ledao.com</span> <span class="comment"># 集群</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="attr">register-with-eureka:</span> <span class="literal">false</span>     <span class="comment">#false 由于该应用为注册中心，所以设置为false,代表不向注册中心注册自己。</span></span><br><span class="line">    <span class="attr">fetch-registry:</span> <span class="literal">false</span>     <span class="comment">#false 由于注册中心的职责就是维护服务实例，它并不需要去检索服务，所以也设置为false</span></span><br><span class="line">    <span class="attr">service-url:</span></span><br><span class="line">      <span class="attr">defaultZone:</span> <span class="string">http://eureka2001.ledao.com:2001/eureka/,http://eureka2003.ledao.com:2003/eureka/</span> <span class="comment"># 集群</span></span><br><span class="line">      <span class="comment">#单机defaultZone: http://$&#123;eureka.instance.hostname&#125;:$&#123;server.port&#125;/eureka/       #设置与Eureka注册中心交互的地址，查询服务和注册服务用到</span></span><br></pre></td></tr></table></figure><p>microservice-eureka-server-<strong>2003</strong>的application.yml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">2003</span></span><br><span class="line">  <span class="attr">context-path:</span> <span class="string">/</span></span><br><span class="line"></span><br><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">instance:</span></span><br><span class="line">    <span class="comment"># hostname: localhost #eureka注册中心实例名称 单机</span></span><br><span class="line">    <span class="attr">hostname:</span> <span class="string">eureka2003.ledao.com</span> <span class="comment"># 集群</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="attr">register-with-eureka:</span> <span class="literal">false</span>     <span class="comment">#false 由于该应用为注册中心，所以设置为false,代表不向注册中心注册自己。</span></span><br><span class="line">    <span class="attr">fetch-registry:</span> <span class="literal">false</span>     <span class="comment">#false 由于注册中心的职责就是维护服务实例，它并不需要去检索服务，所以也设置为false</span></span><br><span class="line">    <span class="attr">service-url:</span></span><br><span class="line">      <span class="attr">defaultZone:</span> <span class="string">http://eureka2002.ledao.com:2002/eureka/,http://eureka2003.ledao.com:2003/eureka/</span> <span class="comment"># 集群</span></span><br><span class="line">      <span class="comment">#单机defaultZone: http://$&#123;eureka.instance.hostname&#125;:$&#123;server.port&#125;/eureka/       #设置与Eureka注册中心交互的地址，查询服务和注册服务用到</span></span><br></pre></td></tr></table></figure><p>服务提供者项目microservice-student-provider-1001的application.yml，主要修改eureka.client.service-url.defaultZone</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">1001</span></span><br><span class="line">  <span class="attr">context-path:</span> <span class="string">/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 数据源配置</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">com.alibaba.druid.pool.DruidDataSource</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/db_springcloud?useUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=UTC</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="number">123456</span></span><br><span class="line">  <span class="attr">jpa:</span></span><br><span class="line">    <span class="attr">hibernate:</span></span><br><span class="line">      <span class="attr">ddl-auto:</span> <span class="string">update</span></span><br><span class="line">    <span class="attr">show-sql:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">instance:</span></span><br><span class="line">    <span class="attr">hostname:</span> <span class="string">localhost</span>  <span class="comment">#eureka客户端主机实例名称</span></span><br><span class="line">    <span class="attr">appname:</span> <span class="string">microservice-student</span>  <span class="comment">#客户端服务名</span></span><br><span class="line">    <span class="attr">instance-id:</span> <span class="string">microservice-student:1001</span> <span class="comment">#客户端实例名称</span></span><br><span class="line">    <span class="attr">prefer-ip-address:</span> <span class="literal">true</span> <span class="comment">#显示IP</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="attr">service-url:</span></span><br><span class="line">      <span class="comment"># defaultZone: http://localhost:2001/eureka   #把服务注册到eureka注册中心 #单机</span></span><br><span class="line">      <span class="attr">defaultZone:</span> <span class="string">http://eureka2001.ledao.com:2001/eureka/,http://eureka2002.ledao.com:2002/eureka/,http://eureka2003.ledao.com:2003/eureka/</span> <span class="comment"># 集群</span></span><br><span class="line"><span class="attr">info:</span></span><br><span class="line">  <span class="attr">current.groupId:</span> <span class="string">@project.groupId@</span></span><br><span class="line">  <span class="attr">current.artifactId:</span> <span class="string">@project.artifactId@</span></span><br><span class="line">  <span class="attr">current.version:</span> <span class="string">@project.version@</span></span><br><span class="line">  <span class="attr">parent.artifactId:</span> <span class="string">@project.parent.artifactId@</span></span><br><span class="line">  <span class="string">负责人:</span> <span class="string">张三</span></span><br><span class="line">  <span class="string">联系电话:</span> <span class="number">110</span></span><br></pre></td></tr></table></figure><h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><p>运行microservice-eureka-server-2001、microservice-eureka-server-2002、microservice-eureka-server-2003和microservice-student-provider-1001四个项目后开始测试</p><p>下面三个链接都可以测试</p><p><a href="http://eureka2001.ledao.com:2001/">http://eureka2001.ledao.com:2001/</a></p><p><a href="http://eureka2002.ledao.com:2002/">http://eureka2002.ledao.com:2002/</a></p><p><a href="http://eureka2003.ledao.com:2003/">http://eureka2003.ledao.com:2003/</a></p><p>结果</p><p><img src="https://image.zoutl.cn/hexo-blog/blogImage/2021-08-11%20222023.png"></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://image.zoutl.cn/hexo-blog/images/homeBlogImage/29.jpg&quot; alt=&quot;img&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Spring Cloud" scheme="http://example.com/categories/Spring-Cloud/"/>
    
    
    <category term="Spring Cloud" scheme="http://example.com/tags/Spring-Cloud/"/>
    
    <category term="Eureka" scheme="http://example.com/tags/Eureka/"/>
    
  </entry>
  
  <entry>
    <title>服务提供者注册到Eureka</title>
    <link href="http://example.com/267.html"/>
    <id>http://example.com/267.html</id>
    <published>2021-08-11T11:49:22.000Z</published>
    <updated>2021-08-11T13:10:24.261Z</updated>
    
    <content type="html"><![CDATA[<p>在microservice-student-provider-1001子模块项目的基础上修改</p><h3 id="修改pom-xml"><a href="#修改pom-xml" class="headerlink" title="修改pom.xml"></a>修改pom.xml</h3><p>加上eureka客户端依赖</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--eureka客户端依赖--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-eureka<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-config<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="修改application-yml"><a href="#修改application-yml" class="headerlink" title="修改application.yml"></a>修改application.yml</h3><p>直接添加下面代码</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">instance:</span></span><br><span class="line">    <span class="attr">hostname:</span> <span class="string">localhost</span>  <span class="comment">#eureka客户端主机实例名称</span></span><br><span class="line">    <span class="attr">appname:</span> <span class="string">microservice-student</span>  <span class="comment">#客户端服务名</span></span><br><span class="line">    <span class="attr">instance-id:</span> <span class="string">microservice-student:1001</span> <span class="comment">#客户端实例名称</span></span><br><span class="line">    <span class="attr">prefer-ip-address:</span> <span class="literal">true</span> <span class="comment">#显示IP</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="attr">service-url:</span></span><br><span class="line">      <span class="attr">defaultZone:</span> <span class="string">http://localhost:2001/eureka</span>   <span class="comment">#把服务注册到eureka注册中心</span></span><br></pre></td></tr></table></figure><p>在启动类加上@EnableEurekaClient注解</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ledao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.domain.EntityScan;</span><br><span class="line"><span class="keyword">import</span> org.springframework.cloud.netflix.eureka.EnableEurekaClient;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 服务提供者启动类</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> LeDao</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@company</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021-08-11 14:01</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@EnableEurekaClient</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@EntityScan(&quot;com/ledao/entity&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StudentProviderApplication_1001</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(StudentProviderApplication_1001.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><p>分别启动microservice-student-provider-1001和microservice-eureka-server-2001子模块项目</p><p>浏览器地址栏输入 <a href="http://localhost:2001/">http://localhost:2001/</a> ，Eureka服务注册中心出现了划红线处的服务</p><p><img src="https://image.zoutl.cn/hexo-blog/blogImage/2021-08-11%20200124.png"></p><h3 id="配置info信息"><a href="#配置info信息" class="headerlink" title="配置info信息"></a>配置info信息</h3><h4 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h4><p>点击上图的划红线处的链接可以查看一些信息，比如：该服务的groupId、artifactId、version，继承的artifactId、该服务的负责人和电话</p><h4 id="配置过程"><a href="#配置过程" class="headerlink" title="配置过程"></a>配置过程</h4><p>在服务提供者项目pom.xml里加入actuator监控依赖：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- actuator监控引入 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-actuator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>在父项目pom.xml里的build节点加入：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>true<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br></pre></td></tr></table></figure><p>在服务提供者项目application.yml加上info配置：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">info:</span></span><br><span class="line">  <span class="attr">current.groupId:</span> <span class="string">@project.groupId@</span></span><br><span class="line">  <span class="attr">current.artifactId:</span> <span class="string">@project.artifactId@</span></span><br><span class="line">  <span class="attr">current.version:</span> <span class="string">@project.version@</span></span><br><span class="line">  <span class="attr">parent.artifactId:</span> <span class="string">@project.parent.artifactId@</span></span><br><span class="line">  <span class="string">负责人:</span> <span class="string">张三</span></span><br><span class="line">  <span class="string">联系电话:</span> <span class="number">110</span></span><br></pre></td></tr></table></figure><p>结果</p><p><img src="https://image.zoutl.cn/hexo-blog/blogImage/2021-08-11%20210834.png"></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://image.zoutl.cn/hexo-blog/images/homeBlogImage/41.jpg&quot; alt=&quot;img&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Spring Cloud" scheme="http://example.com/categories/Spring-Cloud/"/>
    
    
    <category term="Spring Cloud" scheme="http://example.com/tags/Spring-Cloud/"/>
    
    <category term="Eureka" scheme="http://example.com/tags/Eureka/"/>
    
  </entry>
  
  <entry>
    <title>搭建Eureka服务注册中心</title>
    <link href="http://example.com/266.html"/>
    <id>http://example.com/266.html</id>
    <published>2021-08-11T09:57:41.000Z</published>
    <updated>2021-08-11T10:07:02.321Z</updated>
    
    <content type="html"><![CDATA[<h3 id="新建Module"><a href="#新建Module" class="headerlink" title="新建Module"></a>新建Module</h3><p>该Module为Maven项目，命名为microservice-eureka-server-2001</p><h4 id="修改pom-xml"><a href="#修改pom-xml" class="headerlink" title="修改pom.xml"></a>修改pom.xml</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>war<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--继承microservice依赖版本--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>microservice<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>microservice-eureka-server-2001<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>microservice-eureka-server-2001<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--Eureka服务--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-eureka-server<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 修改后立即生效，热部署 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springloaded<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-devtools<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="application-yml配置"><a href="#application-yml配置" class="headerlink" title="application.yml配置"></a>application.yml配置</h4><p>在resources中新建application.yml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">2001</span></span><br><span class="line">  <span class="attr">context-path:</span> <span class="string">/</span></span><br><span class="line"></span><br><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">instance:</span></span><br><span class="line">    <span class="attr">hostname:</span> <span class="string">localhost</span> <span class="comment">#eureka注册中心实例名称</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="attr">register-with-eureka:</span> <span class="literal">false</span>     <span class="comment">#false 由于该应用为注册中心，所以设置为false,代表不向注册中心注册自己。</span></span><br><span class="line">    <span class="attr">fetch-registry:</span> <span class="literal">false</span>     <span class="comment">#false 由于注册中心的职责就是维护服务实例，它并不需要去检索服务，所以也设置为false</span></span><br><span class="line">    <span class="attr">service-url:</span></span><br><span class="line">      <span class="attr">defaultZone:</span> <span class="string">http://$&#123;eureka.instance.hostname&#125;:$&#123;server.port&#125;/eureka/</span>       <span class="comment">#设置与Eureka注册中心交互的地址，查询服务和注册服务用到</span></span><br></pre></td></tr></table></figure><h4 id="Eureka服务启动类"><a href="#Eureka服务启动类" class="headerlink" title="Eureka服务启动类"></a>Eureka服务启动类</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ledao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.cloud.netflix.eureka.server.EnableEurekaServer;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Eureka服务启动类</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> LeDao</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@company</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021-08-11 16:29</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@EnableEurekaServer</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EurekaApplication_2001</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(EurekaApplication_2001.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h3><p>运行Eureka服务启动类后，在浏览器地址栏输入：<a href="http://localhost:2001/">http://localhost:2001/</a></p><p><img src="https://image.zoutl.cn/hexo-blog/blogImage/2021-08-11%20180544.png"></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://image.zoutl.cn/hexo-blog/images/homeBlogImage/30.jpg&quot; alt=&quot;img&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Spring Cloud" scheme="http://example.com/categories/Spring-Cloud/"/>
    
    
    <category term="Spring Cloud" scheme="http://example.com/tags/Spring-Cloud/"/>
    
    <category term="Eureka" scheme="http://example.com/tags/Eureka/"/>
    
  </entry>
  
</feed>
